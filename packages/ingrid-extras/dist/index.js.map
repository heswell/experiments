{"version":3,"file":"index.js","sources":["../src/filters/check-list.jsx","../src/filters/filter-toolbar.jsx","../src/filters/set-filter.jsx","../src/dygraphs/barchartPlotter.js","../src/filters/number-filter.jsx","../src/filters/multi-column-filter.jsx","../src/columnPicker/available-list.jsx","../src/columnPicker/list/list.jsx","../src/columnPicker/column-picker.jsx","../src/dialog/dialog.jsx"],"sourcesContent":["import React from 'react';\nimport {Grid, Selection} from '@heswell/ingrid';\nimport {filter} from '@heswell/data';\n\nconst {INCLUDE, EXCLUDE} = filter;\n\nexport default class CheckList extends React.Component {\n\n    render(){\n        return <Grid className='checkbox-list'\n            debug_title={this.props.debug_title}\n            showHeaders={false}\n            rowHeight={22}\n            minColumnWidth={80}\n            columns={this.props.columns}\n            selectionModel={Selection.Checkbox}\n            height={this.props.height}\n            width={this.props.width}\n            style={this.props.style}\n            dataView={this.props.dataView}\n        />;\n    }\n\n\n}\n","import React from 'react';\nimport './filter-toolbar.css';\n\nexport default class SearchBar extends React.Component {\n\n    constructor(props){\n        super(props)\n        this.state = {\n            searchText: ''\n        }\n    }\n    \n    render() {\n        const {style: {height}, inputWidth, selectionText, onClickSelectionText, onHide} = this.props\n        return (\n            <div className='filter-toolbar' style={{height}}>\n                <div className='filter-button' onClick={onHide}>\n                    <i className=\"material-icons\">filter_list</i>\n                </div>\n                <input className='search-text' style={{width: inputWidth}} type='text' value={this.state.searchText} onChange={e => this.handleSearchTextChange(e)} />\n                <div className='mass-select' onClick={onClickSelectionText}>{selectionText}</div>\n            </div>\n        )\n    }\n    handleSearchTextChange(evt){\n        const { value } = evt.target;\n        let {searchText} = this.state;\n\n        if (searchText && !value){\n\n        } else if (value && !searchText){\n\n        }\n        this.setState({ searchText: value });\n        this.props.onSearchText(value);\n    }\n    \n}\n","\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport cx from 'classnames';\nimport { filter as filterUtils, DataTypes, FilterDataView as FilterView } from '@heswell/data';\nimport {FlexBox} from '@heswell/inlay';\n\nimport CheckList from './check-list.jsx';\nimport SearchBar from './filter-toolbar.jsx'\nimport './set-filter.css';\n\nconst { \n    IN, NOT_IN, STARTS_WITH, NOT_STARTS_WITH, \n    SET_FILTER_DATA_COLUMNS: filterColumns\n} = filterUtils;\nconst NO_STYLE = {}\nconst NO_COUNT = {}\n\nexport const INCLUDE = 'include';\nexport const EXCLUDE = 'exclude';\n\nconst SELECT_ALL = 'select-all';\nconst SELECT_NONE = 'select-none';\n\nconst {} = filterUtils;\nconst ZeroRowFilter = {\n    colName: 'count',\n    type: NOT_IN,\n    values: [0]\n}\n\nexport const SetFilter = ({\n    className,\n    column,\n    dataView,\n    filter,\n    height,\n    onClose,\n    onHide,\n    onMouseDown,\n    style=NO_STYLE,\n    suppressHeader = false,\n    suppressSearch = false,\n    suppressFooter = false\n\n}) => {\n\n    const columnFilter = filterUtils.extractFilterForColumn(filter, column.name);\n    const [showZeroRows, setZeroRows] = useState(true);\n    const [dataCounts, setDataCounts] = useState(NO_COUNT);\n    const [selectionDefault, setSelectionDefault] = useState(columnFilter && columnFilter.type === IN ? SELECT_NONE : SELECT_ALL);\n\n    const filterView = useRef(new FilterView(dataView, column));\n    const searchText = useRef('');\n\n    useEffect(() => {\n        // TODO how do we add multiple subscriptions\n        filterView.current.subscribeToDataCounts(setDataCounts);\n        return () => {\n            filterView.current.unsubscribeFromDataCounts();\n            onHide();\n        }\n    }, [dataView])\n\n    const toggleZeroRows = useCallback(() => {\n        const showZero = !showZeroRows;\n        setZeroRows(showZero);\n        filterView.current.filter(showZero ? null : ZeroRowFilter);\n    },[showZeroRows])\n\n    const handleSearchText = text => {\n        searchText.current = text;\n        filterView.current.getFilterData(column, text)\n        // if we're removing searchtext to widen the search, we need to reevaluate the selectionDefault\n\n    }\n\n    const handleDeselectAll = useCallback(() => {\n        if (searchText.current) {\n            applyFilter(NOT_STARTS_WITH, searchText.current);\n        } else {\n            applyFilter(IN, undefined, []);\n        }\n        setSelectionDefault(SELECT_NONE);\n    },[column]);\n\n    const handleSelectAll = useCallback(() => {\n        if (searchText.current) {\n            applyFilter(STARTS_WITH, searchText.current);\n        } else {\n            applyFilter(NOT_IN, undefined, []);\n        }\n        setSelectionDefault(SELECT_ALL);\n    },[column]);\n\n    const applyFilter = useCallback((type, value, values) => {\n        filterView.current.filter({type, colName: column.name, value, values}, DataTypes.ROW_DATA, true);\n    },[column])\n\n    const allSelected = selectionDefault === SELECT_ALL;\n    const clickHandler = allSelected ? handleDeselectAll : handleSelectAll;\n\n    const handleMouseDown = e => {\n        console.log('onMouseDown')\n        onMouseDown(e)\n    }\n\n\n    // TODO envelope should be part of columnFilter\n    return (\n        <FlexBox className={cx('SetFilter', 'ColumnFilter', className)} style={{ width: 300, height, visibility: style.visibility }}>\n            {suppressHeader !== true &&\n                <div className='col-header HeaderCell' style={{ height: 25 }} onMouseDown={handleMouseDown}>\n                    <div className='col-header-inner' style={{ width: column.width - 1 }}>{column.name}</div>\n                </div>}\n            <FlexBox className='filter-inner' style={{ flex: 1 }}>\n                {suppressSearch !== true &&\n                    <SearchBar style={{ height: 25 }}\n                        inputWidth={column.width - 16}\n                        searchText={searchText}\n                        onSearchText={handleSearchText}\n                        selectionText={allSelected ? 'DESELECT ALL' : 'SELECT ALL'}\n                        onClickSelectionText={clickHandler}\n                        onHide={onClose} />}\n                <CheckList style={{ flex: 1, margin: '3px 3px 0 3px', border: '1px solid lightgray' }}\n                    columns={filterColumns}\n                    dataView={filterView.current} />\n                <FilterCounts style={{ height: 50 }} column={column} dataCounts={dataCounts} searchText={searchText} />\n                {suppressFooter !== true &&\n                    <div key='footer' className='footer' style={{ height: 26 }}>\n                        <button\n                            className=\"toggle-zero-rows\"\n                            onClick={toggleZeroRows}>{showZeroRows ? 'Hide zero rows' : 'Show zero rows'}</button>\n                        <button className='filter-done-button' onClick={onClose}>Done</button>\n                    </div>}\n            </FlexBox>\n        </FlexBox>\n    );\n\n}\n\nfunction FilterCounts({ column, dataCounts/*, searchText*/ }) {\n    const { dataRowTotal, dataRowAllFilters, filterRowTotal, filterRowSelected } = dataCounts;\n    return (\n        <div className=\"filter-count-section\">\n            <div className=\"filter-row-counts\">\n                <div>{`Distinct values for ${column.name}`}</div>\n                <div className=\"filter-row-table\">\n                    <div>\n                        <span>Selected</span>\n                        <span>{filterRowSelected}</span>\n                    </div>\n                    <div>\n                        <span>Total</span>\n                        <span>{filterRowTotal}</span>\n                    </div>\n                </div>\n            </div>\n            <div className=\"data-row-counts\">\n                <div>{`Data records`}</div>\n                <div className=\"filter-row-table\">\n                    {dataRowAllFilters < dataRowTotal ? (\n                        <div>\n                            <span>Filtered</span>\n                            <span>{dataRowAllFilters}</span>\n                        </div>\n\n                    ) : (\n                            <div>\n                                <span>&nbsp;</span>\n                                <span>&nbsp;</span>\n                            </div>\n                        )}\n                    <div>\n                        <span>Total</span>\n                        <span>{dataRowTotal}</span>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    )\n}\n"," import Dygraph from 'dygraphs';\n\nexport function darkenColor(colorStr) {\n    // Defined in dygraph-utils.js\n    const color = Dygraph.toRGB_(colorStr);\n    color.r = Math.floor((255 + color.r) / 2);\n    color.g = Math.floor((255 + color.g) / 2);\n    color.b = Math.floor((255 + color.b) / 2);\n    return 'rgb(' + color.r + ',' + color.g + ',' + color.b + ')';\n}\n\nexport default function barChartPlotter(e) {\n        const ctx = e.drawingContext;\n        const points = e.points;\n        const y_bottom = e.dygraph.toDomYCoord(0);\n\n        // ctx.fillStyle = darkenColor(e.color);\n        ctx.fillStyle = 'rgb(0,0,0)';\n        ctx.strokeStyle = 'rgb(0,0,0)';\n\n        // Find the minimum separation between x-values.\n        // This determines the bar width.\n        let min_sep = Infinity;\n        for (let i = 1; i < points.length; i++) {\n            const sep = points[i].canvasx - points[i - 1].canvasx;\n            if (sep < min_sep){ \n              min_sep = sep;\n            }\n        }\n        const bar_width = Math.floor(2.0 / 3 * min_sep);\n        const height = 60;\n        // Do the actual plotting.\n        for (let i = 0; i < points.length; i++) {\n          const p = points[i];\n          const center_x = p.canvasx;\n          const canvasY = p.yval === 0 ? p.canvasy : Math.min(p.canvasy, height-1);\n          ctx.fillRect(center_x - bar_width / 2, canvasY,\n              bar_width, y_bottom - canvasY);\n\n        //   ctx.strokeRect(center_x - bar_width / 2, p.canvasy,\n        //       bar_width, y_bottom - p.canvasy);\n        }\n      }\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport cx from 'classnames';\nimport Dygraph from 'dygraphs';\n\nimport {FlexBox} from '@heswell/inlay';\nimport {BinnedDataView as BinView} from '@heswell/data';\nimport {filter as filterUtils} from '@heswell/data';\n\nimport SearchBar from './filter-toolbar.jsx'\n\nimport barChartPlotter from '../dygraphs/barchartPlotter';\n\nimport './number-filter.css';\n\nconst DEFAULT_STATE = { op1: 'GE', val1: '', op2: 'LE', val2: '' };\nconst NO_STYLE = {}\n\nexport class NumberFilter extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.graph = null;\n        this._filterChart = null;\n        this.binnedValues = [];\n\n        const { column, filter, dataView } = this.props;\n        const columnFilter = filterUtils.extractFilterForColumn(filter, column.name);\n\n        this.filterView = new BinView(dataView);\n        \n        this.state = {\n            ...this.extractStateFromFilter(columnFilter)\n        };\n\n    }\n\n    componentDidMount(){\n        this.filterView.subscribe({range:{lo:-1,hi:-1}}, values => this.onFilterBins(values));\n        this.createGraph();\n    }\n\n    componentWillUnmount(){\n        this.filterView.destroy();\n        this.graph.destroy();\n        this.props.onHide();\n    }\n\n    onFilterBins(values){\n        console.log(`onFilterBins`, values, this.graph)\n        if (this.graph){\n            this.graph.destroy()\n            if (values.length){\n                this.binnedValues = values;\n                this.createGraph();\n                this.graph.updateOptions({\n                    file: values.map(([x, y]) => [x, y]),\n                })\n            }\n        } else {\n            this.binnedValues = values;\n        }\n    }\n\n    extractStateFromFilter(filter) {\n        if (!filter) {\n            return DEFAULT_STATE;\n        } else if (filter.type === 'AND') {\n            const [f1, f2] = filter.filters;\n            return {\n                op1: f1.type,\n                val1: f1.value,\n                op2: f2.type,\n                val2: f2.value\n            };\n        } else {\n            return {\n                op1: filter.type,\n                val1: filter.value,\n                op2: null,\n                val2: ''\n            };\n        }\n    }\n\n    onChange(evt){\n        const { name, value } = evt.target;\n        this.setState({ [name]: value });\n    }\n\n    apply(){\n        const { column, onApplyFilter } = this.props;\n        const { op1, val1, op2, val2 } = this.state;\n        onApplyFilter(column, this.buildFilter(column, op1, val1, op2, val2));\n    }\n\n    buildFilter(column, op1, val1, op2, val2) {\n\n        const filter1 = {\n            type: op1,\n            colName: column.name,\n            value: parseFloat(val1)\n        };\n\n        if (op1 === 'EQ' || op1 === 'NE' || val2 === '') {\n            return filter1;\n        }\n\n        const filter2 = {\n            type: op2,\n            colName: column.name,\n            value: parseFloat(val2)\n        };\n\n        return { type: 'AND', filters: [filter1, filter2], isNumeric: true };\n\n    }\n\n    componentWillReceiveProps(nextProps){\n        if (nextProps.filter !== this.props.filter){\n            console.log(`[NumberFilter] got new filter ${JSON.stringify(nextProps.filter)}`)\n        }\n    }\n\n    selectRange(min, max) {\n\n        console.log(`select range ${min} - ${max}`);\n        const values = this.binnedValues;\n        const loIdx = Math.ceil(min);\n        const hiIdx = Math.floor(max);\n        const lo = values[loIdx - 1][2];\n        const hi = values[Math.min(hiIdx,values.length)-1][3];\n\n        console.log(`select Range ${loIdx} -  ${hiIdx} === ${lo} to ${hi}`);\n\n        this.setState({\n            op1: 'GE',\n            val1: lo,\n            op2: 'LE',\n            val2: hi\n        }, () => {\n            this.apply();\n        });\n\n    }\n\n    render() {\n        const {\n            column,\n            className,\n            height,\n            width = column.width + 100,\n            style=NO_STYLE,\n            suppressHeader=false,\n            suppressSearch=false,\n            suppressFooter=false\n        } = this.props;\n        const { op1, val1, op2, val2 } = this.state;\n        // const width = column.width + 100;\n\n        return (\n            <FlexBox className={cx('NumberFilter','ColumnFilter', className)} style={{width,height,visibility: style.visibility}}>\n                {suppressHeader !== true &&\n                <div className='col-header HeaderCell' style={{height: 25}}>\n                    <div className='col-header-inner' style={{width: column.width-1}}>{column.name}</div>\n                </div>}\n                <FlexBox className='filter-inner' style={{flex: 1}}>\n                {suppressSearch !== true &&\n                    <SearchBar style={{height: 25}}\n                        inputWidth={column.width-16}\n                        searchText={''}\n                        onSearchText={this.handleSearchText}\n                    />}\n                    <div className='filter-chart'\n                        ref={c => this._filterChart = ReactDOM.findDOMNode(c)}\n                        style={{width, height: 60}} />\n                    \n                    <div className=\"filter-control-row\" style={{height: 24}}>\n                        <div className=\"input-wrapper\">\n                            <input name='val1' type='text' value={val1} onChange={e => this.onChange(e)} />\n                        </div>\n                        <div className=\"input-wrapper\">\n                            <input name='val2' type='text' value={val2} onChange={e => this.onChange(e)} />\n                        </div>\n                    </div>    \n                    \n                    <div className='filter-control-row filter-select' style={{height: 20}}>\n                        <div className=\"input-wrapper\">\n                            <select name='op1' value={op1} onChange={e => this.onChange(e)}>\n                                <option value='GE'>GE</option>\n                                <option value='GT'>GT</option>\n                                <option value='LE'>LE</option>\n                                <option value='LT'>LT</option>\n                                <option value='EQ'>EQ</option>\n                                <option value='NE'>NE</option>\n                            </select>\n                        </div>\n                        <div className=\"input-wrapper\">\n                            <select name='op2' value={op2} onChange={e => this.onChange(e)}>\n                                <option value='LE'>LE</option>\n                                <option value='LT'>LT</option>\n                                <option value='GE'>GE</option>\n                                <option value='GT'>GT</option>\n                            </select>\n                        </div>\n                    </div>\n\n                    <div className='filter-row' style={{flex: 1}}>\n                        <span>Save filter ...</span>\n                    </div>\n                    {suppressFooter !== true &&\n                    <div key='footer' className='footer' style={{height: 26}}>\n                        <button className='filter-done-button' onClick={this.props.onClose}>Done</button>\n                    </div>}\n                </FlexBox>\n            </FlexBox>        \n\n        );\n    }\n\n    // note this range, if not [0,0] will cause selection to be highlighted in graph\n    getRangeFromState(){\n        const {val1, val2} = this.state;\n        const values = this.binnedValues\n        console.log(`getRange from state ${val1} ${val2}`,values)        \n\n        if (val1 && val2){\n            const idx1 = indexOf(val1,values);\n            const idx2 = indexOf(val2,values); \n            if (idx1 === -1 || idx2 === -1){\n                return [0,0]\n            } else {\n                return [idx1, idx2]\n            }\n        } else {\n            return [0,0];\n        }\n    }\n\n    createGraph(){\n        const values = this.binnedValues;\n        if (!values || values.length === 0){\n            return;\n        }\n        console.log(values)\n        let [_minX = 0, _maxX = 0] = this.getRangeFromState();\n        console.log(`cdm (${_minX}) (${_maxX})`);\n        const _maxRange = values.length + 1;\n        const _values = values.map(([x, y]) => [x, y]);\n\n        const graph = window.graph = this.graph = new Dygraph(\n            this._filterChart,\n            _values,\n            {\n                width: 240,\n                height: 60,\n                axes: {\n                    x: { drawAxis: false, drawGrid: false },\n                    y: { drawAxis: false, drawGrid: false }\n                },\n                xRangePad: 3,\n                animatedZooms: false,\n                zoomCallback: (minDate, maxDate/*, yRanges*/) => {\n                    console.log(`zoomCallback (${minDate}) (${maxDate})`);\n                    _minX = minDate;\n                    _maxX = maxDate;\n                    graph.updateOptions({\n                        dateWindow: [0, _maxRange],\n                        valueRange: null\n                    });\n\n                    this.selectRange(minDate, maxDate);\n                },\n                underlayCallback: function (canvas, area, g) {\n                    console.log(`underlayCallback (${_minX}) (${_maxX})`);\n                    const bottom_left = g.toDomCoords(_minX, -20);\n                    const top_right = g.toDomCoords(_maxX, +20);\n                    const left = bottom_left[0];\n                    const right = top_right[0];\n\n                    canvas.fillStyle = 'rgba(255, 255, 102, 1.0)';\n                    canvas.fillRect(left, area.y, right - left, area.h);\n                },\n\n                dateWindow: [0, _maxRange],\n                includeZero: true,\n                showLabelsOnHighlight: false,\n                plotter: barChartPlotter\n            }\n        );\n\n    }\n}\n\nfunction indexOf(val, values){\n    for (let i=0;i<values.length;i++){\n        if (val >= values[i][2] && val <= values[i][3]){\n            return i+1;\n        }\n    }\n    return -1;\n}\n","import React from 'react';\nimport {FlexBox, TabbedContainer} from '@heswell/inlay';\nimport {SetFilter} from './set-filter.jsx'\n// import {NumberFilter} from './numberFilter'\nimport './multi-column-filter.css'\n\nimport cx from 'classnames';\n\nexport class MultiColumnFilter extends React.Component{\n\n    render(){\n        console.log(`RENDER MULTI COLUMN FILTER`)\n        const {column, className, height, width, dataView, onSelectionChange} = this.props;\n        const {columns, width: columnWidth} = column;\n        return (\n            <FlexBox className={cx('MultiColumnFilter','FilterPanel', className)} style={{width,height}}>\n                <div className='column-selector' style={{height: 0}}></div>\n                <TabbedContainer className='tabbed-filters' style={{flex: 1}} tabstripHeight={25} onTabSelectionChanged={idx => this.handleSwitchFilter(idx)}>\n                    {columns.map((column,i) =>\n                        <SetFilter key={i}\n                            title={column.name}\n                            dataView={dataView}\n                            column={{...column, width: columnWidth}}\n                            width={width}\n                            height={height}\n                            suppressHeader={true}\n                            suppressFooter={true}\n                            onSearchText={this.props.onSearchText}\n                            onSelectionChange={(selected, filterMode) =>\n                                onSelectionChange(selected, filterMode, column)}/>\n                    )}\n                </TabbedContainer>\n                <div className='footer' style={{height: 24, backgroundColor: 'red'}}>\n                    <button className='filter-done-button' onClick={this.props.onClose}>Done</button>\n                </div>\n            </FlexBox>\n        );\n    }\n\n    handleSwitchFilter(idx){\n        const column = this.props.column.columns[idx];\n        console.log(`switching column to ${JSON.stringify(column)}`)\n        this.props.dataView.getFilterData(column);\n    }\n\n    componentWillUnmount(){\n        if (this.props.onHide){\n            this.props.onHide();\n        }\n    }\n}\n","import React from 'react';\n\nconst List = ({\n    items,\n    onMouseDown,\n    onItemAdded,\n    style\n}) => {\n    \n    const handleMouseDown = ({ target, pageX, pageY }, column) =>  {\n        onMouseDown(column, target.getBoundingClientRect(), pageX, pageY);\n    }\n    \n    const { width, height } = style;\n    const listItems = items.map((item, idx) => {\n\n        let mouseDownHandler = item.inUse ? null : e => handleMouseDown(e, item.column);\n\n        return (\n            <div key={item.column.name}\n                onMouseDown={mouseDownHandler}\n                className=\"ListItem demo8-item\"\n                style={{\n                    width: width - 15,\n                    height: 23,\n                    lineHeight: '22px',\n                    backgroundColor: item.inUse ? '#ccc' : 'white',\n                    boxShadow: `rgba(0, 0, 0, 0.2) 0px 1px 2px 0px`,\n                    transform: `translate3d(0, ${idx * 24}px, 0)`,\n                    zIndex: idx,\n                }}>\n                <span>{`${idx + 1}  ${item.column.name}`}</span>\n                {item.inUse ? null :\n                    <div className=\"button add\"\n                        onClick={() => onItemAdded(item)}\n                        onMouseDown={e => e.stopPropagation()}>\n                        <i className=\"material-icons\">add</i>\n                    </div>}\n            </div>\n        );\n    });\n\n    return (\n        <div className='List' style={style}>\n            <div className=\"ViewPort\" style={{ position: 'absolute', overflow: 'hidden', top: 0, left: 0, width, height }}>\n                <div className=\"scrollable-content\" style={{ position: 'absolute', top: 0, left: 0, width, height, overflow: 'auto' }}>\n                    <div className=\"scrolling-canvas-container\" style={{ width: width - 15, height: items.length * 24 }}>\n                        {listItems}\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    );\n}\n\nexport default List;\n\n\n","import React, {useState, useEffect, useRef, useCallback} from 'react';\nimport {Motion, spring} from 'react-motion';\nimport cx from 'classnames';\n\nimport './list.css';\n\nconst springConfig = {stiffness: 300, damping: 50};\nconst noop = () => {}\n\nfunction clamp(n, min, max) {\n    return Math.max(Math.min(n, max), min);\n}\n\nfunction reinsert(arr, from, to) {\n    const _arr = arr.slice(0);\n    const val = _arr[from];\n    _arr.splice(from, 1);\n    _arr.splice(to, 0, val);\n    return _arr;\n}\n\nconst List = ({\n    className,\n    dragged={ item: null }, // should we rely on this being passed in ?\n    dragging, // not sura about this one\n    items,\n    mouseMoveX,\n    mouseMoveY,\n    onItemRemoved=noop,\n    onMeasure=noop,\n    onReorder=noop,\n    onTarget,\n    style\n}) => {\n\n    const delta = useRef(0);\n    const dragOffset = useRef({x:0, y:0})\n    const el = useRef(null);\n    const isPressed = useRef(false);\n    const lastPressed = useRef(null);\n    const lastItems = useRef(items);\n    const lastPressedPos = useRef(0);\n    const orderedItems = useRef(Array.from(Array(items.length),(_,i) => i))    \n\n    const [state, setState] = useState({\n        isDragging: false,\n        mouse: 0\n    });\n\n    if (lastItems.current !== items){\n        lastItems.current = items;\n        orderedItems.current = Array.from(Array(items.length),(_,i) => i);\n    }\n\n    useEffect(() => {\n        var {left, top, right, bottom} = el.current.getBoundingClientRect();\n\n        setState(currentState => ({\n            ...currentState,\n            left,\n            top,\n            right,\n            bottom\n        }));\n\n        onMeasure({left, top, right, bottom});\n\n    },[]);\n\n    useEffect(() => {\n        if (dragged.item){\n            dragOffset.current = {\n                x: dragged.rect.left - state.left,\n                y: dragged.rect.top - state.top\n            }\n        }\n    },[dragged])\n\n    const handleMouseDown = (item, pos, pressY, {pageY}) => {\n\n        isPressed.current = true;\n        lastPressed.current = item;\n        lastPressedPos.current = pos;\n        delta.current = pageY - pressY;\n\n        setState(currentState => ({\n            ...currentState,\n            isDragging: true,\n            mouse: pressY\n        }));\t    \n\n        window.addEventListener('mousemove', handleMouseMove);\n        window.addEventListener('mouseup', handleMouseUp);\n    }\n\n    const handleMouseMove = useCallback(({pageY}) => {\n        if (isPressed.current) {\n            const mouse = pageY - delta.current;\n            const row = clamp(Math.round(mouse / 24), 0, items.length - 1);\n            const order = orderedItems.current;\n            orderedItems.current = reinsert(order, order.indexOf(lastPressedPos.current), row);\n            setState(currentState => ({...currentState, mouse}));\n        }\n    },[items.length])\n\n    const handleMouseUp = useCallback(() => {\n        // pass all these in callback, so parent can feed them back in\n        isPressed.current = false;\n        delta.current = 0;\n        onReorder(orderedItems.current);\n       \n        setState(currentState => ({\n            ...currentState,\n            isDragging: false\n        }));\t    \n\n        window.removeEventListener('mousemove', handleMouseMove);\n        window.removeEventListener('mouseup', handleMouseUp);\n    },[]);\n\n    const {mouse} = state;\n    const {x: dragOffsetX, y: dragOffsetY} = dragOffset.current;\n\n    const content = items.map((item,idx) => {\n\n        const order = orderedItems.current;\n\n        const motionStyle = lastPressed.current === item && isPressed.current\n            ? {\n                scale: spring(1.01, springConfig),\n                shadow: spring(16, springConfig),\n                x:0,\n                y: mouse,\n            }\n            : (item === dragged.item && onTarget\n                ? (dragging \n                    ? {\n                        scale : spring(1.01, springConfig),\n                        shadow: spring(16, springConfig),\n                        x: dragOffsetX + mouseMoveX,\n                        y: dragOffsetY + mouseMoveY\n                    }\n                    : { // Dropped onto target, slot into final resting place\n                        scale: spring(1, springConfig),\n                        shadow: spring(1, springConfig),\n                        x: spring(0, springConfig),\n                        y: spring(order.indexOf(idx) * 24, springConfig)\n                    }\n                )\n                : { \n                    scale: spring(1, springConfig),\n                    shadow: spring(1, springConfig),\n                    x:0,\n                    y: spring(order.indexOf(idx) * 24, springConfig),\n            });\n        return (\n            <Motion style={motionStyle} key={item.name}>\n                {({scale, shadow, x, y}) =>\n                <div\n                    onMouseDown={e => handleMouseDown(item, idx, y, e)}\n                    className=\"ListItem demo8-item\"\n                    style={{\n                        width: style.width,\n                        height: 23,\n                        boxShadow: `rgba(0, 0, 0, 0.2) 0px ${shadow}px ${2 * shadow}px 0px`,\n                        transform: `translate3d(${x}px, ${y}px, 0) scale(${scale})`,\n                        zIndex: item === lastPressed.current || item === dragged.item ? 99 : idx\n                    }}>\n                    <span>{`${order.indexOf(idx) + 1}  ${item.name}`}</span>\n                    { dragging && item === dragged.item \n                        ? null \n                        : <div className=\"button remove\" onClick={() => onItemRemoved(item)}>\n                            <i className=\"material-icons\">clear</i>\n                        </div> }\n                </div>\n                }\n            </Motion>\n        )\n    });\n\n    if (dragged.item && !onTarget){\n\n        const style2 = dragging \n        ? {\n            scale : spring(1.01, springConfig),\n            shadow: spring(16, springConfig),\n            x: dragOffsetX + mouseMoveX,\n            y: dragOffsetY + mouseMoveY\n        }\n\n        : { // No Drop - return to base - need to remove node at end\n            scale: spring(1, springConfig),\n            shadow: spring(1, springConfig),\n            x: spring(dragOffsetX, springConfig),\n            y: spring(dragOffsetY, springConfig)\n        };\n\n        content.push(\t\t\t\n            <Motion style={style2} key=\"dragged\">\n                {({scale,shadow,x,y}) => \n                    <div className=\"ListItem demo8-item\"\n                        style={{\n                        width: style.width,\n                        backgroundColor: dragging ? 'yellow' : 'white',\n                        boxShadow: `rgba(0, 0, 0, 0.2) 0px ${shadow}px ${2 * shadow}px 0px`,\n                        transform: `translate3d(${x}px, ${y}px, 0) scale(${scale})`,\n                        zIndex: 99\n                        }}>\n                        {`${dragged.item.name}`}\n                    </div>\n                }\n            </Motion>\n        );\n    }\n\n    return (\n        <div ref={el} className={cx('List',className)} style={style}>\n            {content}\n        </div>\n    );\n\n} \nexport default List;\n\n","import React, {Component} from 'react';\nimport cx from 'classnames';\nimport {FlexBox} from '@heswell/inlay';\nimport AvailableList from './available-list.jsx'; \nimport List from './list/list.jsx'; \n\n\nconst uuid = require('uuid');\n\nexport class ColumnPicker extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            layoutModel: this.getLayoutModel(),\n            selectedColumns: this.props.columns\n        };\n\n        this.handleMouseMove = this.handleMouseMove.bind(this);\n        this.handleMouseUp = this.handleMouseUp.bind(this);\n    }\n\n    render(){\n\n        const {availableColumns} = this.props;\n        const {selectedColumns, dragged, dragging, mouseMoveX, mouseMoveY, pageX, pageY, onTarget} = this.state;\n\n        const availableItems = availableColumns.map(column => ({\n            column,\n            inUse: selectedColumns.findIndex(({name}) => name === column.name) !== -1\n        }));\n\n        var className = cx(\n            this.props.className,\n            'ColumnPicker'\n        );\n\n        return (\n            <FlexBox className={className} style={this.props.style}>\n                <FlexBox style={{flex: 1, flexDirection: 'row', paddingLeft: 12,paddingRight: 12, paddingTop: 15, paddingBottom: 9}}>\n                    <AvailableList style={{flex: 1}} items={availableItems} \n                        onItemAdded={item => this.handleItemAdded(item)}\n                        onMouseDown={(item, rect, x, y) => this.handleDragStartAvailableItem(item, rect, x, y)}/>\n                    <List style={{flex: 1, backgroundColor: 'white'}} \n                        items={selectedColumns}\n                        dragged={dragged}\n                        dragging={dragging}\n                        pageX={pageX}\n                        pageY={pageY}\n                        onTarget={onTarget}\n                        mouseMoveX={mouseMoveX}\n                        mouseMoveY={mouseMoveY}\n                        onItemRemoved={item => this.handleItemRemoved(item)}\n                        onMeasure={rect => this.handleMeasure(rect)}\n                        onReorder={order => this.handleReorder(order)} />\n                </FlexBox>\n            </FlexBox>\n        );\n    }\n\n    getLayoutModel(){\n        \n        if (this.state){\n            return this.state.layoutModel;\n        }\n        else {\n            var {top=0,left=0, width, height} = this.props.style;\n            return {\n                type: 'FlexBox',\n                $id: this.props.id || uuid.v1(),\n                $path: '0',\n                $version: 1,\n                style: {position: 'absolute', width, height, flexDirection:'column'},\n                $position: {top,left,width,height},\n                children: []\n            };\n        }\n    }\n\n    // submit = () => {\n    //     this.props.onCommit(this.state.selectedColumns);\n    // };\n\n    // cancel = () => {\n    //     this.props.onCancel();\n    // };\n\n    handleMeasure(rect){\n        console.log(`targetListRect`,rect);\n        this.setState({\n            targetListRect: rect\n        });\n    };\n\n    handleReorder(order){\n        console.log(`handleReorder ${JSON.stringify(order)}`)\n        var {selectedColumns} = this.state;\n        var columns = [];\n\n        order.forEach((idx,i) => {\n            columns[i] = selectedColumns[idx];\n        });\n        this.setState({selectedColumns: columns})\n        this.props.onChange({columns});\n    };\n\n    handleItemAdded(item){\n        var selectedColumns = this.state.selectedColumns.concat(item.column);\n        this.setState({selectedColumns});\t\n\n        this.props.onChange({columns:selectedColumns});\n    };\n\n    handleItemRemoved(item){\n        var selectedColumns = this.state.selectedColumns.filter(col => col !== item);\n        this.setState({selectedColumns})\n        this.props.onChange({columns:selectedColumns});\n    };\n\n\t// layout BpxModel contains an identical function\n    containsPoint(rect, x,y){\n        var {top, left, right, bottom} = rect;\n        return  x >= left && x < right && y >= top && y < bottom;\n    }\n\n    handleDragStartAvailableItem(item, rect, x, y){\n\n        this.setState({\n            dragged : {\n                item,\n                rect,\n                // offset of exact mouse position from item left,top\n                offetX: x - rect.left, \n                offsetY: y - rect.top,\n                startX: x,\n                startY:y\n            },\n            mouseMoveX:0,\n            mouseMoveY:0,\n            onTarget:false,\n            dragging: true\n        });\n\n        window.addEventListener('mousemove', this.handleMouseMove);\n        window.addEventListener('mouseup', this.handleMouseUp);\n\n    };\n\n\n    handleMouseMove({pageX, pageY}){\n        const {\n            onTarget:wasOnTarget, \n            targetListRect, \n            dragged:{startX, startY, item},\n            selectedColumns} = this.state;\n\n        var onTarget = this.containsPoint(this.state.targetListRect, pageX, pageY);\n        \n        if (onTarget && !wasOnTarget){\n            let pos = Math.floor((pageY - targetListRect.top) / 24); \n\n            let columns = selectedColumns.slice();\n            columns.splice(pos,0,item);\n            this.setState({onTarget, selectedColumns:columns});\n\n        }\n        else if (wasOnTarget && !onTarget){\n            let idx = selectedColumns.indexOf(item);\n            if (idx !== -1){\n                let columns = selectedColumns.slice();\n                columns.splice(idx,1);\n                this.setState({onTarget, selectedColumns:columns});\n            }\n        }\n        else if (onTarget && wasOnTarget){\n\n            //onsole.log(`insert pos ${pos}`);\n            let pos = Math.floor((pageY - targetListRect.top) / 24); \n            let idx = selectedColumns.indexOf(item);\n            if (idx !== -1 && idx !== pos){\n                let columns = selectedColumns.slice();\n                columns.splice(idx,1);\n                columns.splice(pos,0,item);\n                this.setState({onTarget, selectedColumns:columns});\n            }\n\n        }\n\n        this.setState({mouseMoveX: pageX - startX, mouseMoveY: pageY - startY, pageX, pageY });\n    }\n\n    handleMouseUp(){\n\n        window.removeEventListener('mousemove', this.handleMouseMove);\n        window.removeEventListener('mouseup', this.handleMouseUp);\n\n        this.setState({dragging: false});\n\n        this.props.onChange({columns: this.state.selectedColumns});\n    }\n\n}\n\nColumnPicker.defaultProps = {\n    style: {},\n    selectedColumns: [],\n    onChange: config => {\n        console.log(`[ColumnPicker] onChange ${JSON.stringify(config,null,2)}`)\n    },\n    onCommit: config => console.log(`[ColumnPicker] onCommit ${JSON.stringify(config,null,2)}`),\n    onCancel: () => console.log(`[ColumnPicker] onCancel`)\n};\n","import React from 'react';\nimport {Draggable} from '@heswell/ingrid';\nimport {PopupService} from '@heswell/ui-controls';\n\nimport './dialog.css';\n\nexport default ({\n  buttons,\n  children,\n  onButtonClick,\n  title\n}) => {\n\n   const buttonBar = buttons ? (\n      <div className='buttons'>\n        {buttons.map(key => getButton(key, onButtonClick))}\n      </div>\n   ) : null;\n\n  return (\n    <div className='dialog'>\n      <Draggable onDrag={moveFilter}>\n        <div className='title'>\n          <span>{title}</span>\n          <i className=\"material-icons\">clear</i>\n        </div>\n      </Draggable>\n      <div className='content-container'>\n      {children}\n      {buttonBar}\n      </div>\n    </div>\n  )\n}\n\nfunction moveFilter(e, deltaX, deltaY){\n  PopupService.movePopup(deltaX, deltaY)\n}\n\nconst getButton = (key, onClick) => (\n  <button key={key} onClick={() => onClick(key)}>{key}</button>\n)\n"],"names":["CheckList","React","Component","render","props","debug_title","columns","Selection","Checkbox","height","width","style","dataView","SearchBar","constructor","state","searchText","inputWidth","selectionText","onClickSelectionText","onHide","e","handleSearchTextChange","evt","value","target","setState","onSearchText","IN","NOT_IN","STARTS_WITH","NOT_STARTS_WITH","SET_FILTER_DATA_COLUMNS","filterColumns","filterUtils","NO_STYLE","NO_COUNT","INCLUDE","EXCLUDE","SELECT_ALL","SELECT_NONE","ZeroRowFilter","colName","type","values","SetFilter","className","column","filter","onClose","onMouseDown","suppressHeader","suppressSearch","suppressFooter","columnFilter","extractFilterForColumn","name","showZeroRows","setZeroRows","useState","dataCounts","setDataCounts","selectionDefault","setSelectionDefault","filterView","useRef","FilterView","useEffect","current","subscribeToDataCounts","unsubscribeFromDataCounts","toggleZeroRows","useCallback","showZero","handleSearchText","text","getFilterData","handleDeselectAll","applyFilter","undefined","handleSelectAll","DataTypes","ROW_DATA","allSelected","clickHandler","handleMouseDown","console","log","cx","visibility","flex","margin","border","FilterCounts","dataRowTotal","dataRowAllFilters","filterRowTotal","filterRowSelected","barChartPlotter","ctx","drawingContext","points","y_bottom","dygraph","toDomYCoord","fillStyle","strokeStyle","min_sep","Infinity","i","length","sep","canvasx","bar_width","Math","floor","p","center_x","canvasY","yval","canvasy","min","fillRect","DEFAULT_STATE","op1","val1","op2","val2","NumberFilter","graph","_filterChart","binnedValues","BinView","extractStateFromFilter","componentDidMount","subscribe","range","lo","hi","onFilterBins","createGraph","componentWillUnmount","destroy","updateOptions","file","map","x","y","f1","f2","filters","onChange","apply","onApplyFilter","buildFilter","filter1","parseFloat","filter2","isNumeric","componentWillReceiveProps","nextProps","JSON","stringify","selectRange","max","loIdx","ceil","hiIdx","c","ReactDOM","findDOMNode","getRangeFromState","idx1","indexOf","idx2","_minX","_maxX","_maxRange","_values","window","Dygraph","axes","drawAxis","drawGrid","xRangePad","animatedZooms","zoomCallback","minDate","maxDate","dateWindow","valueRange","underlayCallback","canvas","area","g","bottom_left","toDomCoords","top_right","left","right","h","includeZero","showLabelsOnHighlight","plotter","val","MultiColumnFilter","onSelectionChange","columnWidth","idx","handleSwitchFilter","selected","filterMode","backgroundColor","List","items","onItemAdded","pageX","pageY","getBoundingClientRect","listItems","item","mouseDownHandler","inUse","lineHeight","boxShadow","transform","zIndex","stopPropagation","position","overflow","top","springConfig","stiffness","damping","noop","clamp","n","reinsert","arr","from","to","_arr","slice","splice","dragged","dragging","mouseMoveX","mouseMoveY","onItemRemoved","onMeasure","onReorder","onTarget","delta","dragOffset","el","isPressed","lastPressed","lastItems","lastPressedPos","orderedItems","Array","_","isDragging","mouse","bottom","currentState","rect","pos","pressY","addEventListener","handleMouseMove","handleMouseUp","row","round","order","removeEventListener","dragOffsetX","dragOffsetY","content","motionStyle","scale","spring","shadow","style2","push","uuid","require","ColumnPicker","layoutModel","getLayoutModel","selectedColumns","bind","availableColumns","availableItems","findIndex","flexDirection","paddingLeft","paddingRight","paddingTop","paddingBottom","AvailableList","handleItemAdded","handleDragStartAvailableItem","handleItemRemoved","handleMeasure","handleReorder","$id","id","v1","$path","$version","$position","children","targetListRect","forEach","concat","col","containsPoint","offetX","offsetY","startX","startY","wasOnTarget","defaultProps","config","onCommit","onCancel","buttons","onButtonClick","title","buttonBar","key","getButton","moveFilter","deltaX","deltaY","PopupService","movePopup","onClick"],"mappings":";;;;;;;;;;AAMe,MAAMA,SAAN,SAAwBC,KAAK,CAACC,SAA9B,CAAwC;EAEnDC,MAAM,GAAE;WACG,oBAAC,IAAD;MAAM,SAAS,EAAC,eAAhB;MACH,WAAW,EAAE,KAAKC,KAAL,CAAWC,WADrB;MAEH,WAAW,EAAE,KAFV;MAGH,SAAS,EAAE,EAHR;MAIH,cAAc,EAAE,EAJb;MAKH,OAAO,EAAE,KAAKD,KAAL,CAAWE,OALjB;MAMH,cAAc,EAAEC,SAAS,CAACC,QANvB;MAOH,MAAM,EAAE,KAAKJ,KAAL,CAAWK,MAPhB;MAQH,KAAK,EAAE,KAAKL,KAAL,CAAWM,KARf;MASH,KAAK,EAAE,KAAKN,KAAL,CAAWO,KATf;MAUH,QAAQ,EAAE,KAAKP,KAAL,CAAWQ;MAVzB;;;;;ACNO,MAAMC,SAAN,SAAwBZ,KAAK,CAACC,SAA9B,CAAwC;EAEnDY,WAAW,CAACV,KAAD,EAAO;UACRA,KAAN;SACKW,KAAL,GAAa;MACTC,UAAU,EAAE;KADhB;;;EAKJb,MAAM,GAAG;UACC;MAACQ,KAAK,EAAE;QAACF;OAAT;MAAkBQ,UAAlB;MAA8BC,aAA9B;MAA6CC,oBAA7C;MAAmEC;QAAU,KAAKhB,KAAxF;WAEI;MAAK,SAAS,EAAC,gBAAf;MAAgC,KAAK,EAAE;QAACK;;OACpC;MAAK,SAAS,EAAC,eAAf;MAA+B,OAAO,EAAEW;OACpC;MAAG,SAAS,EAAC;qBADjB,CADJ,EAII;MAAO,SAAS,EAAC,aAAjB;MAA+B,KAAK,EAAE;QAACV,KAAK,EAAEO;OAA9C;MAA2D,IAAI,EAAC,MAAhE;MAAuE,KAAK,EAAE,KAAKF,KAAL,CAAWC,UAAzF;MAAqG,QAAQ,EAAEK,CAAC,IAAI,KAAKC,sBAAL,CAA4BD,CAA5B;MAJxH,EAKI;MAAK,SAAS,EAAC,aAAf;MAA6B,OAAO,EAAEF;OAAuBD,aAA7D,CALJ,CADJ;;;EAUJI,sBAAsB,CAACC,GAAD,EAAK;UACjB;MAAEC;QAAUD,GAAG,CAACE,MAAtB;QACI;MAACT;QAAc,KAAKD,KAAxB;;SAOKW,QAAL,CAAc;MAAEV,UAAU,EAAEQ;KAA5B;SACKpB,KAAL,CAAWuB,YAAX,CAAwBH,KAAxB;;;;;ACxBR,MAAM;EACFI,EADE;EACEC,MADF;EACUC,WADV;EACuBC,eADvB;EAEFC,uBAAuB,EAAEC;IACzBC,MAHJ;AAIA,MAAMC,QAAQ,GAAG,EAAjB;AACA,MAAMC,QAAQ,GAAG,EAAjB;AAEA,MAAaC,OAAO,GAAG,SAAhB;AACP,MAAaC,OAAO,GAAG,SAAhB;AAEP,MAAMC,UAAU,GAAG,YAAnB;AACA,MAAMC,WAAW,GAAG,aAApB;AAEA,AACA,MAAMC,aAAa,GAAG;EAClBC,OAAO,EAAE,OADS;EAElBC,IAAI,EAAEd,MAFY;EAGlBe,MAAM,EAAE,CAAC,CAAD;CAHZ;AAMA,MAAaC,SAAS,GAAG,CAAC;EACtBC,SADsB;EAEtBC,MAFsB;EAGtBnC,QAHsB;UAItBoC,QAJsB;EAKtBvC,MALsB;EAMtBwC,OANsB;EAOtB7B,MAPsB;EAQtB8B,WARsB;EAStBvC,KAAK,GAACwB,QATgB;EAUtBgB,cAAc,GAAG,KAVK;EAWtBC,cAAc,GAAG,KAXK;EAYtBC,cAAc,GAAG;CAZI,KAcnB;QAEIC,YAAY,GAAGpB,MAAW,CAACqB,sBAAZ,CAAmCP,QAAnC,EAA2CD,MAAM,CAACS,IAAlD,CAArB;QACM,CAACC,YAAD,EAAeC,WAAf,IAA8BC,QAAQ,CAAC,IAAD,CAA5C;QACM,CAACC,UAAD,EAAaC,aAAb,IAA8BF,QAAQ,CAACvB,QAAD,CAA5C;QACM,CAAC0B,gBAAD,EAAmBC,mBAAnB,IAA0CJ,QAAQ,CAACL,YAAY,IAAIA,YAAY,CAACX,IAAb,KAAsBf,EAAtC,GAA2CY,WAA3C,GAAyDD,UAA1D,CAAxD;QAEMyB,UAAU,GAAGC,MAAM,CAAC,IAAIC,cAAJ,CAAetD,QAAf,EAAyBmC,MAAzB,CAAD,CAAzB;QACM/B,UAAU,GAAGiD,MAAM,CAAC,EAAD,CAAzB;EAEAE,SAAS,CAAC,MAAM;;IAEZH,UAAU,CAACI,OAAX,CAAmBC,qBAAnB,CAAyCR,aAAzC;WACO,MAAM;MACTG,UAAU,CAACI,OAAX,CAAmBE,yBAAnB;MACAlD,MAAM;KAFV;GAHK,EAON,CAACR,QAAD,CAPM,CAAT;QASM2D,cAAc,GAAGC,WAAW,CAAC,MAAM;UAC/BC,QAAQ,GAAG,CAAChB,YAAlB;IACAC,WAAW,CAACe,QAAD,CAAX;IACAT,UAAU,CAACI,OAAX,CAAmBpB,MAAnB,CAA0ByB,QAAQ,GAAG,IAAH,GAAUhC,aAA5C;GAH8B,EAIhC,CAACgB,YAAD,CAJgC,CAAlC;;QAMMiB,gBAAgB,GAAGC,IAAI,IAAI;IAC7B3D,UAAU,CAACoD,OAAX,GAAqBO,IAArB;IACAX,UAAU,CAACI,OAAX,CAAmBQ,aAAnB,CAAiC7B,MAAjC,EAAyC4B,IAAzC,EAF6B;GAAjC;;QAOME,iBAAiB,GAAGL,WAAW,CAAC,MAAM;QACpCxD,UAAU,CAACoD,OAAf,EAAwB;MACpBU,WAAW,CAAC/C,eAAD,EAAkBf,UAAU,CAACoD,OAA7B,CAAX;KADJ,MAEO;MACHU,WAAW,CAAClD,EAAD,EAAKmD,SAAL,EAAgB,EAAhB,CAAX;;;IAEJhB,mBAAmB,CAACvB,WAAD,CAAnB;GANiC,EAOnC,CAACO,MAAD,CAPmC,CAArC;QASMiC,eAAe,GAAGR,WAAW,CAAC,MAAM;QAClCxD,UAAU,CAACoD,OAAf,EAAwB;MACpBU,WAAW,CAAChD,WAAD,EAAcd,UAAU,CAACoD,OAAzB,CAAX;KADJ,MAEO;MACHU,WAAW,CAACjD,MAAD,EAASkD,SAAT,EAAoB,EAApB,CAAX;;;IAEJhB,mBAAmB,CAACxB,UAAD,CAAnB;GAN+B,EAOjC,CAACQ,MAAD,CAPiC,CAAnC;QASM+B,WAAW,GAAGN,WAAW,CAAC,CAAC7B,IAAD,EAAOnB,KAAP,EAAcoB,MAAd,KAAyB;IACrDoB,UAAU,CAACI,OAAX,CAAmBpB,MAAnB,CAA0B;MAACL,IAAD;MAAOD,OAAO,EAAEK,MAAM,CAACS,IAAvB;MAA6BhC,KAA7B;MAAoCoB;KAA9D,EAAuEqC,SAAS,CAACC,QAAjF,EAA2F,IAA3F;GAD2B,EAE7B,CAACnC,MAAD,CAF6B,CAA/B;QAIMoC,WAAW,GAAGrB,gBAAgB,KAAKvB,UAAzC;QACM6C,YAAY,GAAGD,WAAW,GAAGN,iBAAH,GAAuBG,eAAvD;;QAEMK,eAAe,GAAGhE,CAAC,IAAI;IACzBiE,OAAO,CAACC,GAAR,CAAY,aAAZ;IACArC,WAAW,CAAC7B,CAAD,CAAX;GAFJ,CAzDE;;;SAiEE,oBAAC,OAAD;IAAS,SAAS,EAAEmE,EAAE,CAAC,WAAD,EAAc,cAAd,EAA8B1C,SAA9B,CAAtB;IAAgE,KAAK,EAAE;MAAEpC,KAAK,EAAE,GAAT;MAAcD,MAAd;MAAsBgF,UAAU,EAAE9E,KAAK,CAAC8E;;KAC1GtC,cAAc,KAAK,IAAnB,IACG;IAAK,SAAS,EAAC,uBAAf;IAAuC,KAAK,EAAE;MAAE1C,MAAM,EAAE;KAAxD;IAA8D,WAAW,EAAE4E;KACvE;IAAK,SAAS,EAAC,kBAAf;IAAkC,KAAK,EAAE;MAAE3E,KAAK,EAAEqC,MAAM,CAACrC,KAAP,GAAe;;KAAMqC,MAAM,CAACS,IAA9E,CADJ,CAFR,EAKI,oBAAC,OAAD;IAAS,SAAS,EAAC,cAAnB;IAAkC,KAAK,EAAE;MAAEkC,IAAI,EAAE;;KAC5CtC,cAAc,KAAK,IAAnB,IACG,oBAAC,SAAD;IAAW,KAAK,EAAE;MAAE3C,MAAM,EAAE;KAA5B;IACI,UAAU,EAAEsC,MAAM,CAACrC,KAAP,GAAe,EAD/B;IAEI,UAAU,EAAEM,UAFhB;IAGI,YAAY,EAAE0D,gBAHlB;IAII,aAAa,EAAES,WAAW,GAAG,cAAH,GAAoB,YAJlD;IAKI,oBAAoB,EAAEC,YAL1B;IAMI,MAAM,EAAEnC;IARpB,EASI,oBAAC,SAAD;IAAW,KAAK,EAAE;MAAEyC,IAAI,EAAE,CAAR;MAAWC,MAAM,EAAE,eAAnB;MAAoCC,MAAM,EAAE;KAA9D;IACI,OAAO,EAAE3D,aADb;IAEI,QAAQ,EAAE+B,UAAU,CAACI;IAX7B,EAYI,oBAAC,YAAD;IAAc,KAAK,EAAE;MAAE3D,MAAM,EAAE;KAA/B;IAAqC,MAAM,EAAEsC,MAA7C;IAAqD,UAAU,EAAEa,UAAjE;IAA6E,UAAU,EAAE5C;IAZ7F,EAaKqC,cAAc,KAAK,IAAnB,IACG;IAAK,GAAG,EAAC,QAAT;IAAkB,SAAS,EAAC,QAA5B;IAAqC,KAAK,EAAE;MAAE5C,MAAM,EAAE;;KAClD;IACI,SAAS,EAAC,kBADd;IAEI,OAAO,EAAE8D;KAAiBd,YAAY,GAAG,gBAAH,GAAsB,gBAFhE,CADJ,EAII;IAAQ,SAAS,EAAC,oBAAlB;IAAuC,OAAO,EAAER;YAJpD,CAdR,CALJ,CADJ;CA9EG;;AA8GP,SAAS4C,YAAT,CAAsB;EAAE9C,MAAF;EAAUa;;;CAAhC,EAA8D;QACpD;IAAEkC,YAAF;IAAgBC,iBAAhB;IAAmCC,cAAnC;IAAmDC;MAAsBrC,UAA/E;SAEI;IAAK,SAAS,EAAC;KACX;IAAK,SAAS,EAAC;KACX,iCAAO,uBAAsBb,MAAM,CAACS,IAAK,EAAzC,CADJ,EAEI;IAAK,SAAS,EAAC;KACX,iCACI,6CADJ,EAEI,kCAAOyC,iBAAP,CAFJ,CADJ,EAKI,iCACI,0CADJ,EAEI,kCAAOD,cAAP,CAFJ,CALJ,CAFJ,CADJ,EAcI;IAAK,SAAS,EAAC;KACX,iCAAO,cAAP,CADJ,EAEI;IAAK,SAAS,EAAC;KACVD,iBAAiB,GAAGD,YAApB,GACG,iCACI,6CADJ,EAEI,kCAAOC,iBAAP,CAFJ,CADH,GAOO,iCACI,yCADJ,EAEI,yCAFJ,CARZ,EAaI,iCACI,0CADJ,EAEI,kCAAOD,YAAP,CAFJ,CAbJ,CAFJ,CAdJ,CADJ;;;ACnIW,SAASI,eAAT,CAAyB7E,CAAzB,EAA4B;QAC7B8E,GAAG,GAAG9E,CAAC,CAAC+E,cAAd;QACMC,MAAM,GAAGhF,CAAC,CAACgF,MAAjB;QACMC,QAAQ,GAAGjF,CAAC,CAACkF,OAAF,CAAUC,WAAV,CAAsB,CAAtB,CAAjB,CAHmC;;EAMnCL,GAAG,CAACM,SAAJ,GAAgB,YAAhB;EACAN,GAAG,CAACO,WAAJ,GAAkB,YAAlB,CAPmC;;;MAW/BC,OAAO,GAAGC,QAAd;;OACK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,MAAM,CAACS,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;UAC9BE,GAAG,GAAGV,MAAM,CAACQ,CAAD,CAAN,CAAUG,OAAV,GAAoBX,MAAM,CAACQ,CAAC,GAAG,CAAL,CAAN,CAAcG,OAA9C;;QACID,GAAG,GAAGJ,OAAV,EAAkB;MAChBA,OAAO,GAAGI,GAAV;;;;QAGAE,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAW,MAAM,CAAN,GAAUR,OAArB,CAAlB;QACMlG,MAAM,GAAG,EAAf,CAnBmC;;OAqB9B,IAAIoG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,MAAM,CAACS,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;UAChCO,CAAC,GAAGf,MAAM,CAACQ,CAAD,CAAhB;UACMQ,QAAQ,GAAGD,CAAC,CAACJ,OAAnB;UACMM,OAAO,GAAGF,CAAC,CAACG,IAAF,KAAW,CAAX,GAAeH,CAAC,CAACI,OAAjB,GAA2BN,IAAI,CAACO,GAAL,CAASL,CAAC,CAACI,OAAX,EAAoB/G,MAAM,GAAC,CAA3B,CAA3C;IACA0F,GAAG,CAACuB,QAAJ,CAAaL,QAAQ,GAAGJ,SAAS,GAAG,CAApC,EAAuCK,OAAvC,EACIL,SADJ,EACeX,QAAQ,GAAGgB,OAD1B,EAJsC;;;;;ACjBhD,MAAMK,aAAa,GAAG;EAAEC,GAAG,EAAE,IAAP;EAAaC,IAAI,EAAE,EAAnB;EAAuBC,GAAG,EAAE,IAA5B;EAAkCC,IAAI,EAAE;CAA9D;AACA,MAAM5F,UAAQ,GAAG,EAAjB;AAEA,AAAO,MAAM6F,YAAN,SAA2B/H,KAAK,CAACC,SAAjC,CAA2C;EAE9CY,WAAW,CAACV,KAAD,EAAQ;UACTA,KAAN;SAEK6H,KAAL,GAAa,IAAb;SACKC,YAAL,GAAoB,IAApB;SACKC,YAAL,GAAoB,EAApB;UAEM;MAAEpF,MAAF;cAAUC,QAAV;MAAkBpC;QAAa,KAAKR,KAA1C;UACMkD,YAAY,GAAGpB,MAAW,CAACqB,sBAAZ,CAAmCP,QAAnC,EAA2CD,MAAM,CAACS,IAAlD,CAArB;SAEKQ,UAAL,GAAkB,IAAIoE,cAAJ,CAAYxH,QAAZ,CAAlB;SAEKG,KAAL,GAAa,EACT,GAAG,KAAKsH,sBAAL,CAA4B/E,YAA5B;KADP;;;EAMJgF,iBAAiB,GAAE;SACVtE,UAAL,CAAgBuE,SAAhB,CAA0B;MAACC,KAAK,EAAC;QAACC,EAAE,EAAC,CAAC,CAAL;QAAOC,EAAE,EAAC,CAAC;;KAA5C,EAAiD9F,MAAM,IAAI,KAAK+F,YAAL,CAAkB/F,MAAlB,CAA3D;SACKgG,WAAL;;;EAGJC,oBAAoB,GAAE;SACb7E,UAAL,CAAgB8E,OAAhB;SACKb,KAAL,CAAWa,OAAX;SACK1I,KAAL,CAAWgB,MAAX;;;EAGJuH,YAAY,CAAC/F,MAAD,EAAQ;IAChB0C,OAAO,CAACC,GAAR,CAAa,cAAb,EAA4B3C,MAA5B,EAAoC,KAAKqF,KAAzC;;QACI,KAAKA,KAAT,EAAe;WACNA,KAAL,CAAWa,OAAX;;UACIlG,MAAM,CAACkE,MAAX,EAAkB;aACTqB,YAAL,GAAoBvF,MAApB;aACKgG,WAAL;aACKX,KAAL,CAAWc,aAAX,CAAyB;UACrBC,IAAI,EAAEpG,MAAM,CAACqG,GAAP,CAAW,CAAC,CAACC,CAAD,EAAIC,CAAJ,CAAD,KAAY,CAACD,CAAD,EAAIC,CAAJ,CAAvB;SADV;;KALR,MASO;WACEhB,YAAL,GAAoBvF,MAApB;;;;EAIRyF,sBAAsB,CAACrF,MAAD,EAAS;QACvB,CAACA,MAAL,EAAa;aACF2E,aAAP;KADJ,MAEO,IAAI3E,MAAM,CAACL,IAAP,KAAgB,KAApB,EAA2B;YACxB,CAACyG,EAAD,EAAKC,EAAL,IAAWrG,MAAM,CAACsG,OAAxB;aACO;QACH1B,GAAG,EAAEwB,EAAE,CAACzG,IADL;QAEHkF,IAAI,EAAEuB,EAAE,CAAC5H,KAFN;QAGHsG,GAAG,EAAEuB,EAAE,CAAC1G,IAHL;QAIHoF,IAAI,EAAEsB,EAAE,CAAC7H;OAJb;KAFG,MAQA;aACI;QACHoG,GAAG,EAAE5E,MAAM,CAACL,IADT;QAEHkF,IAAI,EAAE7E,MAAM,CAACxB,KAFV;QAGHsG,GAAG,EAAE,IAHF;QAIHC,IAAI,EAAE;OAJV;;;;EASRwB,QAAQ,CAAChI,GAAD,EAAK;UACH;MAAEiC,IAAF;MAAQhC;QAAUD,GAAG,CAACE,MAA5B;SACKC,QAAL,CAAc;OAAG8B,IAAD,GAAQhC;KAAxB;;;EAGJgI,KAAK,GAAE;UACG;MAAEzG,MAAF;MAAU0G;QAAkB,KAAKrJ,KAAvC;UACM;MAAEwH,GAAF;MAAOC,IAAP;MAAaC,GAAb;MAAkBC;QAAS,KAAKhH,KAAtC;IACA0I,aAAa,CAAC1G,MAAD,EAAS,KAAK2G,WAAL,CAAiB3G,MAAjB,EAAyB6E,GAAzB,EAA8BC,IAA9B,EAAoCC,GAApC,EAAyCC,IAAzC,CAAT,CAAb;;;EAGJ2B,WAAW,CAAC3G,MAAD,EAAS6E,GAAT,EAAcC,IAAd,EAAoBC,GAApB,EAAyBC,IAAzB,EAA+B;UAEhC4B,OAAO,GAAG;MACZhH,IAAI,EAAEiF,GADM;MAEZlF,OAAO,EAAEK,MAAM,CAACS,IAFJ;MAGZhC,KAAK,EAAEoI,UAAU,CAAC/B,IAAD;KAHrB;;QAMID,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAK,IAAxB,IAAgCG,IAAI,KAAK,EAA7C,EAAiD;aACtC4B,OAAP;;;UAGEE,OAAO,GAAG;MACZlH,IAAI,EAAEmF,GADM;MAEZpF,OAAO,EAAEK,MAAM,CAACS,IAFJ;MAGZhC,KAAK,EAAEoI,UAAU,CAAC7B,IAAD;KAHrB;WAMO;MAAEpF,IAAI,EAAE,KAAR;MAAe2G,OAAO,EAAE,CAACK,OAAD,EAAUE,OAAV,CAAxB;MAA4CC,SAAS,EAAE;KAA9D;;;EAIJC,yBAAyB,CAACC,SAAD,EAAW;QAC5BA,SAAS,CAAChH,MAAV,KAAqB,KAAK5C,KAAL,CAAW4C,MAApC,EAA2C;MACvCsC,OAAO,CAACC,GAAR,CAAa,iCAAgC0E,IAAI,CAACC,SAAL,CAAeF,SAAS,CAAChH,MAAzB,CAAiC,EAA9E;;;;EAIRmH,WAAW,CAAC1C,GAAD,EAAM2C,GAAN,EAAW;IAElB9E,OAAO,CAACC,GAAR,CAAa,gBAAekC,GAAI,MAAK2C,GAAI,EAAzC;UACMxH,MAAM,GAAG,KAAKuF,YAApB;UACMkC,KAAK,GAAGnD,IAAI,CAACoD,IAAL,CAAU7C,GAAV,CAAd;UACM8C,KAAK,GAAGrD,IAAI,CAACC,KAAL,CAAWiD,GAAX,CAAd;UACM3B,EAAE,GAAG7F,MAAM,CAACyH,KAAK,GAAG,CAAT,CAAN,CAAkB,CAAlB,CAAX;UACM3B,EAAE,GAAG9F,MAAM,CAACsE,IAAI,CAACO,GAAL,CAAS8C,KAAT,EAAe3H,MAAM,CAACkE,MAAtB,IAA8B,CAA/B,CAAN,CAAwC,CAAxC,CAAX;IAEAxB,OAAO,CAACC,GAAR,CAAa,gBAAe8E,KAAM,OAAME,KAAM,QAAO9B,EAAG,OAAMC,EAAG,EAAjE;SAEKhH,QAAL,CAAc;MACVkG,GAAG,EAAE,IADK;MAEVC,IAAI,EAAEY,EAFI;MAGVX,GAAG,EAAE,IAHK;MAIVC,IAAI,EAAEW;KAJV,EAKG,MAAM;WACAc,KAAL;KANJ;;;EAWJrJ,MAAM,GAAG;UACC;MACF4C,MADE;MAEFD,SAFE;MAGFrC,MAHE;MAIFC,KAAK,GAAGqC,MAAM,CAACrC,KAAP,GAAe,GAJrB;MAKFC,KAAK,GAACwB,UALJ;MAMFgB,cAAc,GAAC,KANb;MAOFC,cAAc,GAAC,KAPb;MAQFC,cAAc,GAAC;QACf,KAAKjD,KATT;UAUM;MAAEwH,GAAF;MAAOC,IAAP;MAAaC,GAAb;MAAkBC;QAAS,KAAKhH,KAAtC,CAXK;;WAeD,oBAAC,OAAD;MAAS,SAAS,EAAEyE,EAAE,CAAC,cAAD,EAAgB,cAAhB,EAAgC1C,SAAhC,CAAtB;MAAkE,KAAK,EAAE;QAACpC,KAAD;QAAOD,MAAP;QAAcgF,UAAU,EAAE9E,KAAK,CAAC8E;;OACpGtC,cAAc,KAAK,IAAnB,IACD;MAAK,SAAS,EAAC,uBAAf;MAAuC,KAAK,EAAE;QAAC1C,MAAM,EAAE;;OACnD;MAAK,SAAS,EAAC,kBAAf;MAAkC,KAAK,EAAE;QAACC,KAAK,EAAEqC,MAAM,CAACrC,KAAP,GAAa;;OAAKqC,MAAM,CAACS,IAA1E,CADJ,CAFJ,EAKI,oBAAC,OAAD;MAAS,SAAS,EAAC,cAAnB;MAAkC,KAAK,EAAE;QAACkC,IAAI,EAAE;;OAC/CtC,cAAc,KAAK,IAAnB,IACG,oBAAC,SAAD;MAAW,KAAK,EAAE;QAAC3C,MAAM,EAAE;OAA3B;MACI,UAAU,EAAEsC,MAAM,CAACrC,KAAP,GAAa,EAD7B;MAEI,UAAU,EAAE,EAFhB;MAGI,YAAY,EAAE,KAAKgE;MAL3B,EAOI;MAAK,SAAS,EAAC,cAAf;MACI,GAAG,EAAE8F,CAAC,IAAI,KAAKtC,YAAL,GAAoBuC,QAAQ,CAACC,WAAT,CAAqBF,CAArB,CADlC;MAEI,KAAK,EAAE;QAAC9J,KAAD;QAAQD,MAAM,EAAE;;MAT/B,EAWI;MAAK,SAAS,EAAC,oBAAf;MAAoC,KAAK,EAAE;QAACA,MAAM,EAAE;;OAChD;MAAK,SAAS,EAAC;OACX;MAAO,IAAI,EAAC,MAAZ;MAAmB,IAAI,EAAC,MAAxB;MAA+B,KAAK,EAAEoH,IAAtC;MAA4C,QAAQ,EAAExG,CAAC,IAAI,KAAKkI,QAAL,CAAclI,CAAd;MAD/D,CADJ,EAII;MAAK,SAAS,EAAC;OACX;MAAO,IAAI,EAAC,MAAZ;MAAmB,IAAI,EAAC,MAAxB;MAA+B,KAAK,EAAE0G,IAAtC;MAA4C,QAAQ,EAAE1G,CAAC,IAAI,KAAKkI,QAAL,CAAclI,CAAd;MAD/D,CAJJ,CAXJ,EAoBI;MAAK,SAAS,EAAC,kCAAf;MAAkD,KAAK,EAAE;QAACZ,MAAM,EAAE;;OAC9D;MAAK,SAAS,EAAC;OACX;MAAQ,IAAI,EAAC,KAAb;MAAmB,KAAK,EAAEmH,GAA1B;MAA+B,QAAQ,EAAEvG,CAAC,IAAI,KAAKkI,QAAL,CAAclI,CAAd;OAC1C;MAAQ,KAAK,EAAC;YADlB,EAEI;MAAQ,KAAK,EAAC;YAFlB,EAGI;MAAQ,KAAK,EAAC;YAHlB,EAII;MAAQ,KAAK,EAAC;YAJlB,EAKI;MAAQ,KAAK,EAAC;YALlB,EAMI;MAAQ,KAAK,EAAC;YANlB,CADJ,CADJ,EAWI;MAAK,SAAS,EAAC;OACX;MAAQ,IAAI,EAAC,KAAb;MAAmB,KAAK,EAAEyG,GAA1B;MAA+B,QAAQ,EAAEzG,CAAC,IAAI,KAAKkI,QAAL,CAAclI,CAAd;OAC1C;MAAQ,KAAK,EAAC;YADlB,EAEI;MAAQ,KAAK,EAAC;YAFlB,EAGI;MAAQ,KAAK,EAAC;YAHlB,EAII;MAAQ,KAAK,EAAC;YAJlB,CADJ,CAXJ,CApBJ,EAyCI;MAAK,SAAS,EAAC,YAAf;MAA4B,KAAK,EAAE;QAACqE,IAAI,EAAE;;OACtC,oDADJ,CAzCJ,EA4CKrC,cAAc,KAAK,IAAnB,IACD;MAAK,GAAG,EAAC,QAAT;MAAkB,SAAS,EAAC,QAA5B;MAAqC,KAAK,EAAE;QAAC5C,MAAM,EAAE;;OACjD;MAAQ,SAAS,EAAC,oBAAlB;MAAuC,OAAO,EAAE,KAAKL,KAAL,CAAW6C;cAD/D,CA7CJ,CALJ,CADJ;GA/I0C;;;EA4M9C0H,iBAAiB,GAAE;UACT;MAAC9C,IAAD;MAAOE;QAAQ,KAAKhH,KAA1B;UACM6B,MAAM,GAAG,KAAKuF,YAApB;IACA7C,OAAO,CAACC,GAAR,CAAa,uBAAsBsC,IAAK,IAAGE,IAAK,EAAhD,EAAkDnF,MAAlD;;QAEIiF,IAAI,IAAIE,IAAZ,EAAiB;YACP6C,IAAI,GAAGC,OAAO,CAAChD,IAAD,EAAMjF,MAAN,CAApB;YACMkI,IAAI,GAAGD,OAAO,CAAC9C,IAAD,EAAMnF,MAAN,CAApB;;UACIgI,IAAI,KAAK,CAAC,CAAV,IAAeE,IAAI,KAAK,CAAC,CAA7B,EAA+B;eACpB,CAAC,CAAD,EAAG,CAAH,CAAP;OADJ,MAEO;eACI,CAACF,IAAD,EAAOE,IAAP,CAAP;;KANR,MAQO;aACI,CAAC,CAAD,EAAG,CAAH,CAAP;;;;EAIRlC,WAAW,GAAE;UACHhG,MAAM,GAAG,KAAKuF,YAApB;;QACI,CAACvF,MAAD,IAAWA,MAAM,CAACkE,MAAP,KAAkB,CAAjC,EAAmC;;;;IAGnCxB,OAAO,CAACC,GAAR,CAAY3C,MAAZ;QACI,CAACmI,KAAK,GAAG,CAAT,EAAYC,KAAK,GAAG,CAApB,IAAyB,KAAKL,iBAAL,EAA7B;IACArF,OAAO,CAACC,GAAR,CAAa,QAAOwF,KAAM,MAAKC,KAAM,GAArC;;UACMC,SAAS,GAAGrI,MAAM,CAACkE,MAAP,GAAgB,CAAlC;;UACMoE,OAAO,GAAGtI,MAAM,CAACqG,GAAP,CAAW,CAAC,CAACC,CAAD,EAAIC,CAAJ,CAAD,KAAY,CAACD,CAAD,EAAIC,CAAJ,CAAvB,CAAhB;;UAEMlB,KAAK,GAAGkD,MAAM,CAAClD,KAAP,GAAe,KAAKA,KAAL,GAAa,IAAImD,OAAJ,CACtC,KAAKlD,YADiC,EAEtCgD,OAFsC,EAGtC;MACIxK,KAAK,EAAE,GADX;MAEID,MAAM,EAAE,EAFZ;MAGI4K,IAAI,EAAE;QACFnC,CAAC,EAAE;UAAEoC,QAAQ,EAAE,KAAZ;UAAmBC,QAAQ,EAAE;SAD9B;QAEFpC,CAAC,EAAE;UAAEmC,QAAQ,EAAE,KAAZ;UAAmBC,QAAQ,EAAE;;OALxC;MAOIC,SAAS,EAAE,CAPf;MAQIC,aAAa,EAAE,KARnB;MASIC,YAAY,EAAE,CAACC,OAAD,EAAUC;;WAAyB;QAC7CtG,OAAO,CAACC,GAAR,CAAa,iBAAgBoG,OAAQ,MAAKC,OAAQ,GAAlD;QACAb,KAAK,GAAGY,OAAR;QACAX,KAAK,GAAGY,OAAR;QACA3D,KAAK,CAACc,aAAN,CAAoB;UAChB8C,UAAU,EAAE,CAAC,CAAD,EAAIZ,SAAJ,CADI;UAEhBa,UAAU,EAAE;SAFhB;aAKK3B,WAAL,CAAiBwB,OAAjB,EAA0BC,OAA1B;OAlBR;MAoBIG,gBAAgB,EAAE,UAAUC,MAAV,EAAkBC,IAAlB,EAAwBC,CAAxB,EAA2B;QACzC5G,OAAO,CAACC,GAAR,CAAa,qBAAoBwF,KAAM,MAAKC,KAAM,GAAlD;cACMmB,WAAW,GAAGD,CAAC,CAACE,WAAF,CAAcrB,KAAd,EAAqB,CAAC,EAAtB,CAApB;cACMsB,SAAS,GAAGH,CAAC,CAACE,WAAF,CAAcpB,KAAd,EAAqB,CAAC,EAAtB,CAAlB;cACMsB,IAAI,GAAGH,WAAW,CAAC,CAAD,CAAxB;cACMI,KAAK,GAAGF,SAAS,CAAC,CAAD,CAAvB;QAEAL,MAAM,CAACvF,SAAP,GAAmB,0BAAnB;QACAuF,MAAM,CAACtE,QAAP,CAAgB4E,IAAhB,EAAsBL,IAAI,CAAC9C,CAA3B,EAA8BoD,KAAK,GAAGD,IAAtC,EAA4CL,IAAI,CAACO,CAAjD;OA5BR;MA+BIX,UAAU,EAAE,CAAC,CAAD,EAAIZ,SAAJ,CA/BhB;MAgCIwB,WAAW,EAAE,IAhCjB;MAiCIC,qBAAqB,EAAE,KAjC3B;MAkCIC,OAAO,EAAEzG;KArCyB,CAA1C;;;;;AA4CR,SAAS2E,OAAT,CAAiB+B,GAAjB,EAAsBhK,MAAtB,EAA6B;OACpB,IAAIiE,CAAC,GAAC,CAAX,EAAaA,CAAC,GAACjE,MAAM,CAACkE,MAAtB,EAA6BD,CAAC,EAA9B,EAAiC;QACzB+F,GAAG,IAAIhK,MAAM,CAACiE,CAAD,CAAN,CAAU,CAAV,CAAP,IAAuB+F,GAAG,IAAIhK,MAAM,CAACiE,CAAD,CAAN,CAAU,CAAV,CAAlC,EAA+C;aACpCA,CAAC,GAAC,CAAT;;;;SAGD,CAAC,CAAR;;;ACrSG,MAAMgG,iBAAN,SAAgC5M,KAAK,CAACC,SAAtC,CAA+C;EAElDC,MAAM,GAAE;IACJmF,OAAO,CAACC,GAAR,CAAa,4BAAb;UACM;MAACxC,MAAD;MAASD,SAAT;MAAoBrC,MAApB;MAA4BC,KAA5B;MAAmCE,QAAnC;MAA6CkM;QAAqB,KAAK1M,KAA7E;UACM;MAACE,OAAD;MAAUI,KAAK,EAAEqM;QAAehK,MAAtC;WAEI,oBAAC,OAAD;MAAS,SAAS,EAAEyC,EAAE,CAAC,mBAAD,EAAqB,aAArB,EAAoC1C,SAApC,CAAtB;MAAsE,KAAK,EAAE;QAACpC,KAAD;QAAOD;;OAChF;MAAK,SAAS,EAAC,iBAAf;MAAiC,KAAK,EAAE;QAACA,MAAM,EAAE;;MADrD,EAEI,oBAAC,eAAD;MAAiB,SAAS,EAAC,gBAA3B;MAA4C,KAAK,EAAE;QAACiF,IAAI,EAAE;OAA1D;MAA8D,cAAc,EAAE,EAA9E;MAAkF,qBAAqB,EAAEsH,GAAG,IAAI,KAAKC,kBAAL,CAAwBD,GAAxB;OAC3G1M,OAAO,CAAC2I,GAAR,CAAY,CAAClG,MAAD,EAAQ8D,CAAR,KACT,oBAAC,SAAD;MAAW,GAAG,EAAEA,CAAhB;MACI,KAAK,EAAE9D,MAAM,CAACS,IADlB;MAEI,QAAQ,EAAE5C,QAFd;MAGI,MAAM,EAAE,EAAC,GAAGmC,MAAJ;QAAYrC,KAAK,EAAEqM;OAH/B;MAII,KAAK,EAAErM,KAJX;MAKI,MAAM,EAAED,MALZ;MAMI,cAAc,EAAE,IANpB;MAOI,cAAc,EAAE,IAPpB;MAQI,YAAY,EAAE,KAAKL,KAAL,CAAWuB,YAR7B;MASI,iBAAiB,EAAE,CAACuL,QAAD,EAAWC,UAAX,KACfL,iBAAiB,CAACI,QAAD,EAAWC,UAAX,EAAuBpK,MAAvB;MAX5B,CADL,CAFJ,EAiBI;MAAK,SAAS,EAAC,QAAf;MAAwB,KAAK,EAAE;QAACtC,MAAM,EAAE,EAAT;QAAa2M,eAAe,EAAE;;OACzD;MAAQ,SAAS,EAAC,oBAAlB;MAAuC,OAAO,EAAE,KAAKhN,KAAL,CAAW6C;cAD/D,CAjBJ,CADJ;;;EAyBJgK,kBAAkB,CAACD,GAAD,EAAK;UACbjK,MAAM,GAAG,KAAK3C,KAAL,CAAW2C,MAAX,CAAkBzC,OAAlB,CAA0B0M,GAA1B,CAAf;IACA1H,OAAO,CAACC,GAAR,CAAa,uBAAsB0E,IAAI,CAACC,SAAL,CAAenH,MAAf,CAAuB,EAA1D;SACK3C,KAAL,CAAWQ,QAAX,CAAoBgE,aAApB,CAAkC7B,MAAlC;;;EAGJ8F,oBAAoB,GAAE;QACd,KAAKzI,KAAL,CAAWgB,MAAf,EAAsB;WACbhB,KAAL,CAAWgB,MAAX;;;;;;AC7CZ,MAAMiM,IAAI,GAAG,CAAC;EACVC,KADU;EAEVpK,WAFU;EAGVqK,WAHU;EAIV5M;CAJS,KAKP;QAEI0E,eAAe,GAAG,CAAC;IAAE5D,MAAF;IAAU+L,KAAV;IAAiBC;GAAlB,EAA2B1K,MAA3B,KAAuC;IAC3DG,WAAW,CAACH,MAAD,EAAStB,MAAM,CAACiM,qBAAP,EAAT,EAAyCF,KAAzC,EAAgDC,KAAhD,CAAX;GADJ;;QAIM;IAAE/M,KAAF;IAASD;MAAWE,KAA1B;QACMgN,SAAS,GAAGL,KAAK,CAACrE,GAAN,CAAU,CAAC2E,IAAD,EAAOZ,GAAP,KAAe;QAEnCa,gBAAgB,GAAGD,IAAI,CAACE,KAAL,GAAa,IAAb,GAAoBzM,CAAC,IAAIgE,eAAe,CAAChE,CAAD,EAAIuM,IAAI,CAAC7K,MAAT,CAA/D;WAGI;MAAK,GAAG,EAAE6K,IAAI,CAAC7K,MAAL,CAAYS,IAAtB;MACI,WAAW,EAAEqK,gBADjB;MAEI,SAAS,EAAC,qBAFd;MAGI,KAAK,EAAE;QACHnN,KAAK,EAAEA,KAAK,GAAG,EADZ;QAEHD,MAAM,EAAE,EAFL;QAGHsN,UAAU,EAAE,MAHT;QAIHX,eAAe,EAAEQ,IAAI,CAACE,KAAL,GAAa,MAAb,GAAsB,OAJpC;QAKHE,SAAS,EAAG,oCALT;QAMHC,SAAS,EAAG,kBAAiBjB,GAAG,GAAG,EAAG,QANnC;QAOHkB,MAAM,EAAElB;;OAEZ,kCAAQ,GAAEA,GAAG,GAAG,CAAE,KAAIY,IAAI,CAAC7K,MAAL,CAAYS,IAAK,EAAvC,CAZJ,EAaKoK,IAAI,CAACE,KAAL,GAAa,IAAb,GACG;MAAK,SAAS,EAAC,YAAf;MACI,OAAO,EAAE,MAAMP,WAAW,CAACK,IAAD,CAD9B;MAEI,WAAW,EAAEvM,CAAC,IAAIA,CAAC,CAAC8M,eAAF;OAClB;MAAG,SAAS,EAAC;aAHjB,CAdR,CADJ;GAJc,CAAlB;SA6BI;IAAK,SAAS,EAAC,MAAf;IAAsB,KAAK,EAAExN;KACzB;IAAK,SAAS,EAAC,UAAf;IAA0B,KAAK,EAAE;MAAEyN,QAAQ,EAAE,UAAZ;MAAwBC,QAAQ,EAAE,QAAlC;MAA4CC,GAAG,EAAE,CAAjD;MAAoDhC,IAAI,EAAE,CAA1D;MAA6D5L,KAA7D;MAAoED;;KACjG;IAAK,SAAS,EAAC,oBAAf;IAAoC,KAAK,EAAE;MAAE2N,QAAQ,EAAE,UAAZ;MAAwBE,GAAG,EAAE,CAA7B;MAAgChC,IAAI,EAAE,CAAtC;MAAyC5L,KAAzC;MAAgDD,MAAhD;MAAwD4N,QAAQ,EAAE;;KACzG;IAAK,SAAS,EAAC,4BAAf;IAA4C,KAAK,EAAE;MAAE3N,KAAK,EAAEA,KAAK,GAAG,EAAjB;MAAqBD,MAAM,EAAE6M,KAAK,CAACxG,MAAN,GAAe;;KAC1F6G,SADL,CADJ,CADJ,CADJ,CADJ;CAxCJ;;ACIA,MAAMY,YAAY,GAAG;EAACC,SAAS,EAAE,GAAZ;EAAiBC,OAAO,EAAE;CAA/C;;AACA,MAAMC,IAAI,GAAG,MAAM,EAAnB;;AAEA,SAASC,KAAT,CAAeC,CAAf,EAAkBnH,GAAlB,EAAuB2C,GAAvB,EAA4B;SACjBlD,IAAI,CAACkD,GAAL,CAASlD,IAAI,CAACO,GAAL,CAASmH,CAAT,EAAYxE,GAAZ,CAAT,EAA2B3C,GAA3B,CAAP;;;AAGJ,SAASoH,QAAT,CAAkBC,GAAlB,EAAuBC,IAAvB,EAA6BC,EAA7B,EAAiC;QACvBC,IAAI,GAAGH,GAAG,CAACI,KAAJ,CAAU,CAAV,CAAb;;QACMtC,GAAG,GAAGqC,IAAI,CAACF,IAAD,CAAhB;;EACAE,IAAI,CAACE,MAAL,CAAYJ,IAAZ,EAAkB,CAAlB;;EACAE,IAAI,CAACE,MAAL,CAAYH,EAAZ,EAAgB,CAAhB,EAAmBpC,GAAnB;;SACOqC,IAAP;;;AAGJ,MAAM5B,MAAI,GAAG,CAAC;EACVvK,SADU;EAEVsM,OAAO,GAAC;IAAExB,IAAI,EAAE;GAFN;;EAGVyB,QAHU;;EAIV/B,KAJU;EAKVgC,UALU;EAMVC,UANU;EAOVC,aAAa,GAACd,IAPJ;EAQVe,SAAS,GAACf,IARA;EASVgB,SAAS,GAAChB,IATA;EAUViB,QAVU;EAWVhP;CAXS,KAYP;QAEIiP,KAAK,GAAG3L,MAAM,CAAC,CAAD,CAApB;QACM4L,UAAU,GAAG5L,MAAM,CAAC;IAACiF,CAAC,EAAC,CAAH;IAAMC,CAAC,EAAC;GAAT,CAAzB;QACM2G,EAAE,GAAG7L,MAAM,CAAC,IAAD,CAAjB;QACM8L,SAAS,GAAG9L,MAAM,CAAC,KAAD,CAAxB;QACM+L,WAAW,GAAG/L,MAAM,CAAC,IAAD,CAA1B;QACMgM,SAAS,GAAGhM,MAAM,CAACqJ,KAAD,CAAxB;QACM4C,cAAc,GAAGjM,MAAM,CAAC,CAAD,CAA7B;QACMkM,YAAY,GAAGlM,MAAM,CAACmM,KAAK,CAACrB,IAAN,CAAWqB,KAAK,CAAC9C,KAAK,CAACxG,MAAP,CAAhB,EAA+B,CAACuJ,CAAD,EAAGxJ,CAAH,KAASA,CAAxC,CAAD,CAA3B;QAEM,CAAC9F,KAAD,EAAQW,QAAR,IAAoBiC,QAAQ,CAAC;IAC/B2M,UAAU,EAAE,KADmB;IAE/BC,KAAK,EAAE;GAFuB,CAAlC;;MAKIN,SAAS,CAAC7L,OAAV,KAAsBkJ,KAA1B,EAAgC;IAC5B2C,SAAS,CAAC7L,OAAV,GAAoBkJ,KAApB;IACA6C,YAAY,CAAC/L,OAAb,GAAuBgM,KAAK,CAACrB,IAAN,CAAWqB,KAAK,CAAC9C,KAAK,CAACxG,MAAP,CAAhB,EAA+B,CAACuJ,CAAD,EAAGxJ,CAAH,KAASA,CAAxC,CAAvB;;;EAGJ1C,SAAS,CAAC,MAAM;QACR;MAACmI,IAAD;MAAOgC,GAAP;MAAY/B,KAAZ;MAAmBiE;QAAUV,EAAE,CAAC1L,OAAH,CAAWsJ,qBAAX,EAAjC;IAEAhM,QAAQ,CAAC+O,YAAY,KAAK,EACtB,GAAGA,YADmB;MAEtBnE,IAFsB;MAGtBgC,GAHsB;MAItB/B,KAJsB;MAKtBiE;KALiB,CAAb,CAAR;IAQAf,SAAS,CAAC;MAACnD,IAAD;MAAOgC,GAAP;MAAY/B,KAAZ;MAAmBiE;KAApB,CAAT;GAXK,EAaP,EAbO,CAAT;EAeArM,SAAS,CAAC,MAAM;QACRiL,OAAO,CAACxB,IAAZ,EAAiB;MACbiC,UAAU,CAACzL,OAAX,GAAqB;QACjB8E,CAAC,EAAEkG,OAAO,CAACsB,IAAR,CAAapE,IAAb,GAAoBvL,KAAK,CAACuL,IADZ;QAEjBnD,CAAC,EAAEiG,OAAO,CAACsB,IAAR,CAAapC,GAAb,GAAmBvN,KAAK,CAACuN;OAFhC;;GAFC,EAOP,CAACc,OAAD,CAPO,CAAT;;QASM/J,eAAe,GAAG,CAACuI,IAAD,EAAO+C,GAAP,EAAYC,MAAZ,EAAoB;IAACnD;GAArB,KAAgC;IAEpDsC,SAAS,CAAC3L,OAAV,GAAoB,IAApB;IACA4L,WAAW,CAAC5L,OAAZ,GAAsBwJ,IAAtB;IACAsC,cAAc,CAAC9L,OAAf,GAAyBuM,GAAzB;IACAf,KAAK,CAACxL,OAAN,GAAgBqJ,KAAK,GAAGmD,MAAxB;IAEAlP,QAAQ,CAAC+O,YAAY,KAAK,EACtB,GAAGA,YADmB;MAEtBH,UAAU,EAAE,IAFU;MAGtBC,KAAK,EAAEK;KAHU,CAAb,CAAR;IAMAzF,MAAM,CAAC0F,gBAAP,CAAwB,WAAxB,EAAqCC,eAArC;IACA3F,MAAM,CAAC0F,gBAAP,CAAwB,SAAxB,EAAmCE,aAAnC;GAdJ;;QAiBMD,eAAe,GAAGtM,WAAW,CAAC,CAAC;IAACiJ;GAAF,KAAa;QACzCsC,SAAS,CAAC3L,OAAd,EAAuB;YACbmM,KAAK,GAAG9C,KAAK,GAAGmC,KAAK,CAACxL,OAA5B;YACM4M,GAAG,GAAGrC,KAAK,CAACzH,IAAI,CAAC+J,KAAL,CAAWV,KAAK,GAAG,EAAnB,CAAD,EAAyB,CAAzB,EAA4BjD,KAAK,CAACxG,MAAN,GAAe,CAA3C,CAAjB;YACMoK,KAAK,GAAGf,YAAY,CAAC/L,OAA3B;MACA+L,YAAY,CAAC/L,OAAb,GAAuByK,QAAQ,CAACqC,KAAD,EAAQA,KAAK,CAACrG,OAAN,CAAcqF,cAAc,CAAC9L,OAA7B,CAAR,EAA+C4M,GAA/C,CAA/B;MACAtP,QAAQ,CAAC+O,YAAY,KAAK,EAAC,GAAGA,YAAJ;QAAkBF;OAAvB,CAAb,CAAR;;GAN2B,EAQjC,CAACjD,KAAK,CAACxG,MAAP,CARiC,CAAnC;QAUMiK,aAAa,GAAGvM,WAAW,CAAC,MAAM;;IAEpCuL,SAAS,CAAC3L,OAAV,GAAoB,KAApB;IACAwL,KAAK,CAACxL,OAAN,GAAgB,CAAhB;IACAsL,SAAS,CAACS,YAAY,CAAC/L,OAAd,CAAT;IAEA1C,QAAQ,CAAC+O,YAAY,KAAK,EACtB,GAAGA,YADmB;MAEtBH,UAAU,EAAE;KAFK,CAAb,CAAR;IAKAnF,MAAM,CAACgG,mBAAP,CAA2B,WAA3B,EAAwCL,eAAxC;IACA3F,MAAM,CAACgG,mBAAP,CAA2B,SAA3B,EAAsCJ,aAAtC;GAZ6B,EAa/B,EAb+B,CAAjC;QAeM;IAACR;MAASxP,KAAhB;QACM;IAACmI,CAAC,EAAEkI,WAAJ;IAAiBjI,CAAC,EAAEkI;MAAexB,UAAU,CAACzL,OAApD;QAEMkN,OAAO,GAAGhE,KAAK,CAACrE,GAAN,CAAU,CAAC2E,IAAD,EAAMZ,GAAN,KAAc;UAE9BkE,KAAK,GAAGf,YAAY,CAAC/L,OAA3B;UAEMmN,WAAW,GAAGvB,WAAW,CAAC5L,OAAZ,KAAwBwJ,IAAxB,IAAgCmC,SAAS,CAAC3L,OAA1C,GACd;MACEoN,KAAK,EAAEC,MAAM,CAAC,IAAD,EAAOlD,YAAP,CADf;MAEEmD,MAAM,EAAED,MAAM,CAAC,EAAD,EAAKlD,YAAL,CAFhB;MAGErF,CAAC,EAAC,CAHJ;MAIEC,CAAC,EAAEoH;KALS,GAOb3C,IAAI,KAAKwB,OAAO,CAACxB,IAAjB,IAAyB+B,QAAzB,GACIN,QAAQ,GACL;MACEmC,KAAK,EAAGC,MAAM,CAAC,IAAD,EAAOlD,YAAP,CADhB;MAEEmD,MAAM,EAAED,MAAM,CAAC,EAAD,EAAKlD,YAAL,CAFhB;MAGErF,CAAC,EAAEkI,WAAW,GAAG9B,UAHnB;MAIEnG,CAAC,EAAEkI,WAAW,GAAG9B;KALd,GAOL;;MACEiC,KAAK,EAAEC,MAAM,CAAC,CAAD,EAAIlD,YAAJ,CADf;MAEEmD,MAAM,EAAED,MAAM,CAAC,CAAD,EAAIlD,YAAJ,CAFhB;MAGErF,CAAC,EAAEuI,MAAM,CAAC,CAAD,EAAIlD,YAAJ,CAHX;MAIEpF,CAAC,EAAEsI,MAAM,CAACP,KAAK,CAACrG,OAAN,CAAcmC,GAAd,IAAqB,EAAtB,EAA0BuB,YAA1B;KAZlB,GAeG;MACEiD,KAAK,EAAEC,MAAM,CAAC,CAAD,EAAIlD,YAAJ,CADf;MAEEmD,MAAM,EAAED,MAAM,CAAC,CAAD,EAAIlD,YAAJ,CAFhB;MAGErF,CAAC,EAAC,CAHJ;MAIEC,CAAC,EAAEsI,MAAM,CAACP,KAAK,CAACrG,OAAN,CAAcmC,GAAd,IAAqB,EAAtB,EAA0BuB,YAA1B;KA1BrB;WA6BI,oBAAC,MAAD;MAAQ,KAAK,EAAEgD,WAAf;MAA4B,GAAG,EAAE3D,IAAI,CAACpK;OACjC,CAAC;MAACgO,KAAD;MAAQE,MAAR;MAAgBxI,CAAhB;MAAmBC;KAApB,KACD;MACI,WAAW,EAAE9H,CAAC,IAAIgE,eAAe,CAACuI,IAAD,EAAOZ,GAAP,EAAY7D,CAAZ,EAAe9H,CAAf,CADrC;MAEI,SAAS,EAAC,qBAFd;MAGI,KAAK,EAAE;QACHX,KAAK,EAAEC,KAAK,CAACD,KADV;QAEHD,MAAM,EAAE,EAFL;QAGHuN,SAAS,EAAG,0BAAyB0D,MAAO,MAAK,IAAIA,MAAO,QAHzD;QAIHzD,SAAS,EAAG,eAAc/E,CAAE,OAAMC,CAAE,gBAAeqI,KAAM,GAJtD;QAKHtD,MAAM,EAAEN,IAAI,KAAKoC,WAAW,CAAC5L,OAArB,IAAgCwJ,IAAI,KAAKwB,OAAO,CAACxB,IAAjD,GAAwD,EAAxD,GAA6DZ;;OAEzE,kCAAQ,GAAEkE,KAAK,CAACrG,OAAN,CAAcmC,GAAd,IAAqB,CAAE,KAAIY,IAAI,CAACpK,IAAK,EAA/C,CAVJ,EAWM6L,QAAQ,IAAIzB,IAAI,KAAKwB,OAAO,CAACxB,IAA7B,GACI,IADJ,GAEI;MAAK,SAAS,EAAC,eAAf;MAA+B,OAAO,EAAE,MAAM4B,aAAa,CAAC5B,IAAD;OACzD;MAAG,SAAS,EAAC;eADf,CAbV,CAFJ,CADJ;GAhCY,CAAhB;;MAyDIwB,OAAO,CAACxB,IAAR,IAAgB,CAAC+B,QAArB,EAA8B;UAEpBgC,MAAM,GAAGtC,QAAQ,GACrB;MACEmC,KAAK,EAAGC,MAAM,CAAC,IAAD,EAAOlD,YAAP,CADhB;MAEEmD,MAAM,EAAED,MAAM,CAAC,EAAD,EAAKlD,YAAL,CAFhB;MAGErF,CAAC,EAAEkI,WAAW,GAAG9B,UAHnB;MAIEnG,CAAC,EAAEkI,WAAW,GAAG9B;KALE,GAQrB;;MACEiC,KAAK,EAAEC,MAAM,CAAC,CAAD,EAAIlD,YAAJ,CADf;MAEEmD,MAAM,EAAED,MAAM,CAAC,CAAD,EAAIlD,YAAJ,CAFhB;MAGErF,CAAC,EAAEuI,MAAM,CAACL,WAAD,EAAc7C,YAAd,CAHX;MAIEpF,CAAC,EAAEsI,MAAM,CAACJ,WAAD,EAAc9C,YAAd;KAZb;IAeA+C,OAAO,CAACM,IAAR,CACI,oBAAC,MAAD;MAAQ,KAAK,EAAED,MAAf;MAAuB,GAAG,EAAC;OACtB,CAAC;MAACH,KAAD;MAAOE,MAAP;MAAcxI,CAAd;MAAgBC;KAAjB,KACG;MAAK,SAAS,EAAC,qBAAf;MACI,KAAK,EAAE;QACPzI,KAAK,EAAEC,KAAK,CAACD,KADN;QAEP0M,eAAe,EAAEiC,QAAQ,GAAG,QAAH,GAAc,OAFhC;QAGPrB,SAAS,EAAG,0BAAyB0D,MAAO,MAAK,IAAIA,MAAO,QAHrD;QAIPzD,SAAS,EAAG,eAAc/E,CAAE,OAAMC,CAAE,gBAAeqI,KAAM,GAJlD;QAKPtD,MAAM,EAAE;;OAEN,GAAEkB,OAAO,CAACxB,IAAR,CAAapK,IAAK,EAR1B,CAFR,CADJ;;;SAmBA;IAAK,GAAG,EAAEsM,EAAV;IAAc,SAAS,EAAEtK,EAAE,CAAC,MAAD,EAAQ1C,SAAR,CAA3B;IAA+C,KAAK,EAAEnC;KACjD2Q,OADL,CADJ;CAlMJ;;ACdA,MAAMO,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AAEA,AAAO,MAAMC,YAAN,SAA2B7R,SAA3B,CAAqC;EAExCY,WAAW,CAACV,KAAD,EAAO;UACRA,KAAN;SACKW,KAAL,GAAa;MACTiR,WAAW,EAAE,KAAKC,cAAL,EADJ;MAETC,eAAe,EAAE,KAAK9R,KAAL,CAAWE;KAFhC;SAKKwQ,eAAL,GAAuB,KAAKA,eAAL,CAAqBqB,IAArB,CAA0B,IAA1B,CAAvB;SACKpB,aAAL,GAAqB,KAAKA,aAAL,CAAmBoB,IAAnB,CAAwB,IAAxB,CAArB;;;EAGJhS,MAAM,GAAE;UAEE;MAACiS;QAAoB,KAAKhS,KAAhC;UACM;MAAC8R,eAAD;MAAkB9C,OAAlB;MAA2BC,QAA3B;MAAqCC,UAArC;MAAiDC,UAAjD;MAA6D/B,KAA7D;MAAoEC,KAApE;MAA2EkC;QAAY,KAAK5O,KAAlG;UAEMsR,cAAc,GAAGD,gBAAgB,CAACnJ,GAAjB,CAAqBlG,MAAM,KAAK;MACnDA,MADmD;MAEnD+K,KAAK,EAAEoE,eAAe,CAACI,SAAhB,CAA0B,CAAC;QAAC9O;OAAF,KAAYA,IAAI,KAAKT,MAAM,CAACS,IAAtD,MAAgE,CAAC;KAF1B,CAA3B,CAAvB;QAKIV,SAAS,GAAG0C,EAAE,CACd,KAAKpF,KAAL,CAAW0C,SADG,EAEd,cAFc,CAAlB;WAMI,oBAAC,OAAD;MAAS,SAAS,EAAEA,SAApB;MAA+B,KAAK,EAAE,KAAK1C,KAAL,CAAWO;OAC7C,oBAAC,OAAD;MAAS,KAAK,EAAE;QAAC+E,IAAI,EAAE,CAAP;QAAU6M,aAAa,EAAE,KAAzB;QAAgCC,WAAW,EAAE,EAA7C;QAAgDC,YAAY,EAAE,EAA9D;QAAkEC,UAAU,EAAE,EAA9E;QAAkFC,aAAa,EAAE;;OAC7G,oBAACC,IAAD;MAAe,KAAK,EAAE;QAAClN,IAAI,EAAE;OAA7B;MAAiC,KAAK,EAAE2M,cAAxC;MACI,WAAW,EAAEzE,IAAI,IAAI,KAAKiF,eAAL,CAAqBjF,IAArB,CADzB;MAEI,WAAW,EAAE,CAACA,IAAD,EAAO8C,IAAP,EAAaxH,CAAb,EAAgBC,CAAhB,KAAsB,KAAK2J,4BAAL,CAAkClF,IAAlC,EAAwC8C,IAAxC,EAA8CxH,CAA9C,EAAiDC,CAAjD;MAH3C,EAII,oBAACkE,MAAD;MAAM,KAAK,EAAE;QAAC3H,IAAI,EAAE,CAAP;QAAU0H,eAAe,EAAE;OAAxC;MACI,KAAK,EAAE8E,eADX;MAEI,OAAO,EAAE9C,OAFb;MAGI,QAAQ,EAAEC,QAHd;MAII,KAAK,EAAE7B,KAJX;MAKI,KAAK,EAAEC,KALX;MAMI,QAAQ,EAAEkC,QANd;MAOI,UAAU,EAAEL,UAPhB;MAQI,UAAU,EAAEC,UARhB;MASI,aAAa,EAAE3B,IAAI,IAAI,KAAKmF,iBAAL,CAAuBnF,IAAvB,CAT3B;MAUI,SAAS,EAAE8C,IAAI,IAAI,KAAKsC,aAAL,CAAmBtC,IAAnB,CAVvB;MAWI,SAAS,EAAEQ,KAAK,IAAI,KAAK+B,aAAL,CAAmB/B,KAAnB;MAf5B,CADJ,CADJ;;;EAuBJe,cAAc,GAAE;QAER,KAAKlR,KAAT,EAAe;aACJ,KAAKA,KAAL,CAAWiR,WAAlB;KADJ,MAGK;UACG;QAAC1D,GAAG,GAAC,CAAL;QAAOhC,IAAI,GAAC,CAAZ;QAAe5L,KAAf;QAAsBD;UAAU,KAAKL,KAAL,CAAWO,KAA/C;aACO;QACHgC,IAAI,EAAE,SADH;QAEHuQ,GAAG,EAAE,KAAK9S,KAAL,CAAW+S,EAAX,IAAiBtB,IAAI,CAACuB,EAAL,EAFnB;QAGHC,KAAK,EAAE,GAHJ;QAIHC,QAAQ,EAAE,CAJP;QAKH3S,KAAK,EAAE;UAACyN,QAAQ,EAAE,UAAX;UAAuB1N,KAAvB;UAA8BD,MAA9B;UAAsC8R,aAAa,EAAC;SALxD;QAMHgB,SAAS,EAAE;UAACjF,GAAD;UAAKhC,IAAL;UAAU5L,KAAV;UAAgBD;SANxB;QAOH+S,QAAQ,EAAE;OAPd;;GA1DgC;;;;;;;;EA8ExCR,aAAa,CAACtC,IAAD,EAAM;IACfpL,OAAO,CAACC,GAAR,CAAa,gBAAb,EAA6BmL,IAA7B;SACKhP,QAAL,CAAc;MACV+R,cAAc,EAAE/C;KADpB;;;EAKJuC,aAAa,CAAC/B,KAAD,EAAO;IAChB5L,OAAO,CAACC,GAAR,CAAa,iBAAgB0E,IAAI,CAACC,SAAL,CAAegH,KAAf,CAAsB,EAAnD;QACI;MAACgB;QAAmB,KAAKnR,KAA7B;QACIT,OAAO,GAAG,EAAd;IAEA4Q,KAAK,CAACwC,OAAN,CAAc,CAAC1G,GAAD,EAAKnG,CAAL,KAAW;MACrBvG,OAAO,CAACuG,CAAD,CAAP,GAAaqL,eAAe,CAAClF,GAAD,CAA5B;KADJ;SAGKtL,QAAL,CAAc;MAACwQ,eAAe,EAAE5R;KAAhC;SACKF,KAAL,CAAWmJ,QAAX,CAAoB;MAACjJ;KAArB;;;EAGJuS,eAAe,CAACjF,IAAD,EAAM;QACbsE,eAAe,GAAG,KAAKnR,KAAL,CAAWmR,eAAX,CAA2ByB,MAA3B,CAAkC/F,IAAI,CAAC7K,MAAvC,CAAtB;SACKrB,QAAL,CAAc;MAACwQ;KAAf;SAEK9R,KAAL,CAAWmJ,QAAX,CAAoB;MAACjJ,OAAO,EAAC4R;KAA7B;;;EAGJa,iBAAiB,CAACnF,IAAD,EAAM;QACfsE,eAAe,GAAG,KAAKnR,KAAL,CAAWmR,eAAX,CAA2BlP,MAA3B,CAAkC4Q,GAAG,IAAIA,GAAG,KAAKhG,IAAjD,CAAtB;SACKlM,QAAL,CAAc;MAACwQ;KAAf;SACK9R,KAAL,CAAWmJ,QAAX,CAAoB;MAACjJ,OAAO,EAAC4R;KAA7B;;;;EAIJ2B,aAAa,CAACnD,IAAD,EAAOxH,CAAP,EAASC,CAAT,EAAW;QAChB;MAACmF,GAAD;MAAMhC,IAAN;MAAYC,KAAZ;MAAmBiE;QAAUE,IAAjC;WACQxH,CAAC,IAAIoD,IAAL,IAAapD,CAAC,GAAGqD,KAAjB,IAA0BpD,CAAC,IAAImF,GAA/B,IAAsCnF,CAAC,GAAGqH,MAAlD;;;EAGJsC,4BAA4B,CAAClF,IAAD,EAAO8C,IAAP,EAAaxH,CAAb,EAAgBC,CAAhB,EAAkB;SAErCzH,QAAL,CAAc;MACV0N,OAAO,EAAG;QACNxB,IADM;QAEN8C,IAFM;;QAINoD,MAAM,EAAE5K,CAAC,GAAGwH,IAAI,CAACpE,IAJX;QAKNyH,OAAO,EAAE5K,CAAC,GAAGuH,IAAI,CAACpC,GALZ;QAMN0F,MAAM,EAAE9K,CANF;QAON+K,MAAM,EAAC9K;OARD;MAUVmG,UAAU,EAAC,CAVD;MAWVC,UAAU,EAAC,CAXD;MAYVI,QAAQ,EAAC,KAZC;MAaVN,QAAQ,EAAE;KAbd;IAgBAlE,MAAM,CAAC0F,gBAAP,CAAwB,WAAxB,EAAqC,KAAKC,eAA1C;IACA3F,MAAM,CAAC0F,gBAAP,CAAwB,SAAxB,EAAmC,KAAKE,aAAxC;;;EAKJD,eAAe,CAAC;IAACtD,KAAD;IAAQC;GAAT,EAAgB;UACrB;MACFkC,QAAQ,EAACuE,WADP;MAEFT,cAFE;MAGFrE,OAAO,EAAC;QAAC4E,MAAD;QAASC,MAAT;QAAiBrG;OAHvB;MAIFsE;QAAmB,KAAKnR,KAJ5B;QAMI4O,QAAQ,GAAG,KAAKkE,aAAL,CAAmB,KAAK9S,KAAL,CAAW0S,cAA9B,EAA8CjG,KAA9C,EAAqDC,KAArD,CAAf;;QAEIkC,QAAQ,IAAI,CAACuE,WAAjB,EAA6B;UACrBvD,GAAG,GAAGzJ,IAAI,CAACC,KAAL,CAAW,CAACsG,KAAK,GAAGgG,cAAc,CAACnF,GAAxB,IAA+B,EAA1C,CAAV;UAEIhO,OAAO,GAAG4R,eAAe,CAAChD,KAAhB,EAAd;MACA5O,OAAO,CAAC6O,MAAR,CAAewB,GAAf,EAAmB,CAAnB,EAAqB/C,IAArB;WACKlM,QAAL,CAAc;QAACiO,QAAD;QAAWuC,eAAe,EAAC5R;OAAzC;KALJ,MAQK,IAAI4T,WAAW,IAAI,CAACvE,QAApB,EAA6B;UAC1B3C,GAAG,GAAGkF,eAAe,CAACrH,OAAhB,CAAwB+C,IAAxB,CAAV;;UACIZ,GAAG,KAAK,CAAC,CAAb,EAAe;YACP1M,OAAO,GAAG4R,eAAe,CAAChD,KAAhB,EAAd;QACA5O,OAAO,CAAC6O,MAAR,CAAenC,GAAf,EAAmB,CAAnB;aACKtL,QAAL,CAAc;UAACiO,QAAD;UAAWuC,eAAe,EAAC5R;SAAzC;;KALH,MAQA,IAAIqP,QAAQ,IAAIuE,WAAhB,EAA4B;;UAGzBvD,GAAG,GAAGzJ,IAAI,CAACC,KAAL,CAAW,CAACsG,KAAK,GAAGgG,cAAc,CAACnF,GAAxB,IAA+B,EAA1C,CAAV;UACItB,GAAG,GAAGkF,eAAe,CAACrH,OAAhB,CAAwB+C,IAAxB,CAAV;;UACIZ,GAAG,KAAK,CAAC,CAAT,IAAcA,GAAG,KAAK2D,GAA1B,EAA8B;YACtBrQ,OAAO,GAAG4R,eAAe,CAAChD,KAAhB,EAAd;QACA5O,OAAO,CAAC6O,MAAR,CAAenC,GAAf,EAAmB,CAAnB;QACA1M,OAAO,CAAC6O,MAAR,CAAewB,GAAf,EAAmB,CAAnB,EAAqB/C,IAArB;aACKlM,QAAL,CAAc;UAACiO,QAAD;UAAWuC,eAAe,EAAC5R;SAAzC;;;;SAKHoB,QAAL,CAAc;MAAC4N,UAAU,EAAE9B,KAAK,GAAGwG,MAArB;MAA6BzE,UAAU,EAAE9B,KAAK,GAAGwG,MAAjD;MAAyDzG,KAAzD;MAAgEC;KAA9E;;;EAGJsD,aAAa,GAAE;IAEX5F,MAAM,CAACgG,mBAAP,CAA2B,WAA3B,EAAwC,KAAKL,eAA7C;IACA3F,MAAM,CAACgG,mBAAP,CAA2B,SAA3B,EAAsC,KAAKJ,aAA3C;SAEKrP,QAAL,CAAc;MAAC2N,QAAQ,EAAE;KAAzB;SAEKjP,KAAL,CAAWmJ,QAAX,CAAoB;MAACjJ,OAAO,EAAE,KAAKS,KAAL,CAAWmR;KAAzC;;;;AAKRH,YAAY,CAACoC,YAAb,GAA4B;EACxBxT,KAAK,EAAE,EADiB;EAExBuR,eAAe,EAAE,EAFO;EAGxB3I,QAAQ,EAAE6K,MAAM,IAAI;IAChB9O,OAAO,CAACC,GAAR,CAAa,2BAA0B0E,IAAI,CAACC,SAAL,CAAekK,MAAf,EAAsB,IAAtB,EAA2B,CAA3B,CAA8B,EAArE;GAJoB;EAMxBC,QAAQ,EAAED,MAAM,IAAI9O,OAAO,CAACC,GAAR,CAAa,2BAA0B0E,IAAI,CAACC,SAAL,CAAekK,MAAf,EAAsB,IAAtB,EAA2B,CAA3B,CAA8B,EAArE,CANI;EAOxBE,QAAQ,EAAE,MAAMhP,OAAO,CAACC,GAAR,CAAa,yBAAb;CAPpB;;ACrMA,cAAe,CAAC;EACdgP,OADc;EAEdf,QAFc;EAGdgB,aAHc;EAIdC;CAJa,KAKT;QAEGC,SAAS,GAAGH,OAAO,GACtB;IAAK,SAAS,EAAC;KACZA,OAAO,CAACtL,GAAR,CAAY0L,GAAG,IAAIC,SAAS,CAACD,GAAD,EAAMH,aAAN,CAA5B,CADH,CADsB,GAIrB,IAJJ;SAOC;IAAK,SAAS,EAAC;KACb,oBAAC,SAAD;IAAW,MAAM,EAAEK;KACjB;IAAK,SAAS,EAAC;KACb,kCAAOJ,KAAP,CADF,EAEE;IAAG,SAAS,EAAC;aAFf,CADF,CADF,EAOE;IAAK,SAAS,EAAC;KACdjB,QADD,EAECkB,SAFD,CAPF,CADF;CAbF;;AA6BA,SAASG,UAAT,CAAoBxT,CAApB,EAAuByT,MAAvB,EAA+BC,MAA/B,EAAsC;EACpCC,YAAY,CAACC,SAAb,CAAuBH,MAAvB,EAA+BC,MAA/B;;;AAGF,MAAMH,SAAS,GAAG,CAACD,GAAD,EAAMO,OAAN,KAChB;EAAQ,GAAG,EAAEP,GAAb;EAAkB,OAAO,EAAE,MAAMO,OAAO,CAACP,GAAD;GAAQA,GAAhD,CADF;;;;"}